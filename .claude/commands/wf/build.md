---
subagent:
  primary: backend-architect
  parallel:
    - backend-architect
    - frontend-architect
  conditions:
    backend-only: backend-architect
    frontend-only: frontend-architect
    infrastructure: devops-architect
  description: TDD ê¸°ë°˜ ë°±ì—”ë“œ/í”„ë¡ íŠ¸ì—”ë“œ ë³‘ë ¬ êµ¬í˜„
mcp-servers: [context7, playwright]
hierarchy-input: true
parallel-processing: true
---

# /wf:build - TDD ê¸°ë°˜ êµ¬í˜„ (Lite)

> **ìƒíƒœ ì „í™˜**: `[ap] ìŠ¹ì¸` â†’ `[im] êµ¬í˜„`
> **ì ìš© category**: `development`, `infrastructure`
> **ê³„ì¸µ ì…ë ¥**: WP/ACT/Task ë‹¨ìœ„ (í•˜ìœ„ Task ë³‘ë ¬ ì²˜ë¦¬)

## ì‚¬ìš©ë²•

```bash
/wf:build [PROJECT/]<WP-ID | ACT-ID | Task-ID>
```

| ì˜ˆì‹œ | ì„¤ëª… |
|------|------|
| `/wf:build TSK-01-01` | Task ë‹¨ìœ„ |
| `/wf:build ACT-01-01` | ACT ë‚´ ëª¨ë“  `[ap]` Task ë³‘ë ¬ |
| `/wf:build WP-01` | WP ë‚´ ëª¨ë“  Task ë³‘ë ¬ |

---

## ì‹¤í–‰ í”Œë¡œìš°

| Task ìœ í˜• | ì‹¤í–‰ ë‹¨ê³„ | Agent |
|----------|----------|-------|
| Backend-only | 1 â†’ 2 â†’ 4 â†’ 5 â†’ 6 â†’ 7 â†’ 8 | backend-architect |
| Frontend-only | 1 â†’ 3 â†’ 4 â†’ 5 â†’ 6 â†’ 7 â†’ 8 | frontend-architect |
| Full-stack | 1 â†’ 2 â†’ 3 â†’ 4 â†’ 5 â†’ 6 â†’ 7 â†’ 8 | backend + frontend |
| infrastructure | 1 â†’ 2(ê°„ì†Œí™”) â†’ 7 â†’ 8 | devops-architect |

---

## ì‹¤í–‰ ê³¼ì •

### 0ë‹¨ê³„: ì‚¬ì „ ê²€ì¦ â­

ëª…ë ¹ì–´ ì‹¤í–‰ ì „ ìƒíƒœ ê²€ì¦:

```bash
npx tsx .orchay/script/transition.ts {Task-ID} build -p {project} --start
```

| ê²°ê³¼ | ì²˜ë¦¬ |
|------|------|
| `canTransition: true` | ë‹¤ìŒ ë‹¨ê³„ ì§„í–‰ |
| `canTransition: false` | ì—ëŸ¬ ì¶œë ¥ í›„ ì¦‰ì‹œ ì¢…ë£Œ |

**ì—ëŸ¬ ì¶œë ¥:**
```
[ERROR] í˜„ì¬ ìƒíƒœ [{currentStatus}]ì—ì„œ 'build' ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
í•„ìš”í•œ ìƒíƒœ: [ap]
```

### 1ë‹¨ê³„: ì„¤ê³„ ë¶„ì„

```
íƒìƒ‰ ê²½ë¡œ (categoryë³„):
â”œâ”€â”€ development:
â”‚   â”œâ”€â”€ 010-design.md âœ… (í†µí•© ì„¤ê³„ ë¬¸ì„œ)
â”‚   â”œâ”€â”€ 025-traceability-matrix.md (FR/BR â†’ í…ŒìŠ¤íŠ¸ ë§¤í•‘) â­
â”‚   â””â”€â”€ 026-test-specification.md (UT/E2E ì‹œë‚˜ë¦¬ì˜¤) â­
â”œâ”€â”€ í™”ë©´ ìë£Œ (Frontend í¬í•¨ ì‹œ):
â”‚   â”œâ”€â”€ ui-assets/*.png|jpg|svg â­ (ìµœìš°ì„  ì°¸ì¡°)
â”‚   â”œâ”€â”€ 011-ui-design.md (Fallback)
â”‚   â””â”€â”€ .orchay/{project}/ui-theme-*.md (í…Œë§ˆ ê°€ì´ë“œ)
â””â”€â”€ infrastructure: 010-tech-design.md
```

**êµ¬í˜„ í”Œë˜ê·¸ ì„¤ì •**:
- `hasBackend`: "Backend", "API", "Service", "Controller" í‚¤ì›Œë“œ
- `hasFrontend`: "Frontend", "UI", "í™”ë©´", "Component", "Page" í‚¤ì›Œë“œ

### 2ë‹¨ê³„: Backend êµ¬í˜„ (TDD)

**Agent**: backend-architect

1. **Red Phase** (`026-test-specification.md` ê¸°ë°˜):
   - ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ í‘œ â†’ í…ŒìŠ¤íŠ¸ ì½”ë“œ ë³€í™˜
   - `025-traceability-matrix.md`ë¡œ ì»¤ë²„ë¦¬ì§€ í™•ì¸

2. **Green Phase**:
   - Controller/Service/Repository êµ¬í˜„
   - DB ìŠ¤í‚¤ë§ˆ/ëª¨ë¸ êµ¬í˜„

3. **Refactor Phase** â­:
   - **SOLID ì›ì¹™**
     - SRP: í´ë˜ìŠ¤/í•¨ìˆ˜ ë‹¨ì¼ ì±…ì„
     - OCP: í™•ì¥ì— ì—´ë¦¼, ìˆ˜ì •ì— ë‹«í˜
     - DIP: ì¶”ìƒí™” ì˜ì¡´
   - **í´ë¦° ì½”ë“œ**
     - ì˜ë¯¸ìˆëŠ” ë„¤ì´ë°
     - í•¨ìˆ˜ í¬ê¸° ìµœì†Œí™” (20ì¤„ ì´í•˜ ê¶Œì¥)
     - ì¤‘ë³µ ì œê±° (DRY)
   - **í”„ë¡œì íŠ¸ ê·œì¹™** (â†’ `CLAUDE.md`)

### 3ë‹¨ê³„: Frontend êµ¬í˜„

**Agent**: frontend-architect
**MCP**: context7 + playwright

1. **UI Assets ê¸°ë°˜ êµ¬í˜„** â­:
   ```
   êµ¬í˜„ ìš°ì„ ìˆœìœ„:
   1. ui-assets/ ì´ë¯¸ì§€ â†’ ë ˆì´ì•„ì›ƒ/ì»´í¬ë„ŒíŠ¸ ë°°ì¹˜ ì¶”ì¶œ
   2. 011-ui-design.md â†’ ë¬¸ì„œ ê¸°ë°˜ í™”ë©´ ì •ë³´
   3. ui-theme-*.md â†’ ìƒ‰ìƒ/ìŠ¤íƒ€ì¼ ì‹œìŠ¤í…œ
   ```
   - ë ˆì´ì•„ì›ƒ: ì´ë¯¸ì§€ ê¸°ì¤€ ê·¸ë¦¬ë“œ/í”Œë ‰ìŠ¤ êµ¬ì¡°
   - ì»´í¬ë„ŒíŠ¸: ë””ìì¸ ì‹œì•ˆê³¼ ë™ì¼ ë°°ì¹˜
   - ìƒ‰ìƒ/í°íŠ¸: í…Œë§ˆ ê°€ì´ë“œ ë˜ëŠ” ì´ë¯¸ì§€ ì¶”ì¶œ

2. **API ì—°ë™**:
   - ë¹„ë™ê¸° ë°ì´í„° ì²˜ë¦¬ (í”„ë ˆì„ì›Œí¬ ê·œì¹™ ì°¸ì¡°)
   - ì—ëŸ¬ ì²˜ë¦¬ ë° ì‚¬ìš©ì í”¼ë“œë°±

3. **E2E í…ŒìŠ¤íŠ¸ ì½”ë“œ** (`026-test-specification.md` ê¸°ë°˜):
   - E2E ì‹œë‚˜ë¦¬ì˜¤ í‘œ â†’ E2E í…ŒìŠ¤íŠ¸ ë„êµ¬ë¡œ ì½”ë“œ ë³€í™˜
   - data-testid ì…€ë ‰í„° ëª©ë¡ í™œìš©
   - Fixture ë°ì´í„° ìƒì„±

> âš ï¸ **ì„œë²„ ì¬ì‚¬ìš© ê·œì¹™**: E2E í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ì „ ê¸°ì¡´ ê°œë°œ ì„œë²„ê°€ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸í•˜ì„¸ìš”.
> - ì‹¤í–‰ ì¤‘ì´ë©´ ìƒˆë¡œ ì‹¤í–‰í•˜ì§€ ë§ê³  ê¸°ì¡´ ì„œë²„ ì‚¬ìš©
> - ì„œë²„ê°€ ì—†ì„ ë•Œë§Œ ìƒˆë¡œ ì‹œì‘ (`npm run dev` ë“±)
> - í…ŒìŠ¤íŠ¸ ì™„ë£Œ í›„ ì„œë²„ ì¢…ë£Œí•˜ì§€ ì•ŠìŒ

### 4ë‹¨ê³„: í…ŒìŠ¤íŠ¸-ìˆ˜ì • ë£¨í”„ â­

**ìµœëŒ€ 5íšŒ ì¬ì‹œë„** (ì´ˆê³¼ ì‹œ ìˆ˜ë™ ê°œì… ìš”ì²­)

```
ğŸ”„ TDD í…ŒìŠ¤íŠ¸-ìˆ˜ì • ë£¨í”„:
â”œâ”€â”€ 1ì°¨: 2/12 ì‹¤íŒ¨ â†’ Service ë¡œì§ ìˆ˜ì •
â”œâ”€â”€ 2ì°¨: 12/12 í†µê³¼ âœ… (ë£¨í”„ ì¢…ë£Œ)

ğŸ”„ E2E í…ŒìŠ¤íŠ¸-ìˆ˜ì • ë£¨í”„:
â”œâ”€â”€ 1ì°¨: 3/8 ì‹¤íŒ¨ â†’ Locator ìˆ˜ì •
â”œâ”€â”€ 2ì°¨: 1/8 ì‹¤íŒ¨ â†’ waitFor ì¶”ê°€
â”œâ”€â”€ 3ì°¨: 8/8 í†µê³¼ âœ… (ë£¨í”„ ì¢…ë£Œ)
```

### 5ë‹¨ê³„: í…ŒìŠ¤íŠ¸ ê²°ê³¼ì„œ ìƒì„± â­

```
ìƒì„± íŒŒì¼:
â”œâ”€â”€ 070-tdd-test-results.md (Task í´ë”)
â”œâ”€â”€ 070-e2e-test-results.md (Task í´ë”)
â””â”€â”€ test-results/[timestamp]/
    â”œâ”€â”€ tdd/coverage/
    â””â”€â”€ e2e/
        â”œâ”€â”€ e2e-test-report.html â† ë¸Œë¼ìš°ì € ì—´ê¸°
        â””â”€â”€ screenshots/
```

**WBS ì—…ë°ì´íŠ¸**: `test-result: none` â†’ `pass` | `fail`

**í…ŒìŠ¤íŠ¸ ê²°ê³¼ì„œ í•„ìˆ˜ í¬í•¨ í•­ëª©**:
- í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ìš”ì•½ (ì´ í…ŒìŠ¤íŠ¸ ìˆ˜, ì„±ê³µ/ì‹¤íŒ¨ ìˆ˜, ì‹¤í–‰ ì‹œê°„)
- ì»¤ë²„ë¦¬ì§€ ë¦¬í¬íŠ¸ (ë¼ì¸, ë¸Œëœì¹˜, í•¨ìˆ˜)
- ì‹¤íŒ¨ í…ŒìŠ¤íŠ¸ ìƒì„¸ (ì‹¤íŒ¨ ì›ì¸, ìˆ˜ì • ë‚´ì—­)
- í…ŒìŠ¤íŠ¸-ìˆ˜ì • ë£¨í”„ ì´ë ¥ (ì‹œë„ íšŸìˆ˜, ê° ì‹œë„ë³„ ê²°ê³¼)
- ìš”êµ¬ì‚¬í•­ ì»¤ë²„ë¦¬ì§€ ë§¤í•‘ (FR/BR â†’ í…ŒìŠ¤íŠ¸ ID)

### 7ë‹¨ê³„: êµ¬í˜„ ë³´ê³ ì„œ ìƒì„±

- `030-implementation.md` ìƒì„±
- í…œí”Œë¦¿: `.orchay/templates/030-implementation.md`

**í•„ìˆ˜ í¬í•¨ í•­ëª©** (ë¶„í•  ë¬¸ì„œ ì—°ê³„):
- ìƒì„¸ì„¤ê³„ í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ â†” ì‹¤ì œ í…ŒìŠ¤íŠ¸ ë§¤í•‘
- ìš”êµ¬ì‚¬í•­ ì»¤ë²„ë¦¬ì§€ (FR/BR â†’ í…ŒìŠ¤íŠ¸ ID)

### 8ë‹¨ê³„: ìƒíƒœ ì „í™˜ (ìë™)

```bash
# {project}: ì…ë ¥ì—ì„œ íŒŒì‹± (ì˜ˆ: deployment/TSK-01-01 â†’ deployment)
# í”„ë¡œì íŠ¸ ë¯¸ëª…ì‹œ ì‹œ wf-common-lite.md ê·œì¹™ì— ë”°ë¼ ìë™ ê²°ì •
npx tsx .orchay/script/transition.ts {Task-ID} build -p {project}
```
- ì„±ê³µ: `{ "success": true, "newStatus": "im" }`

---

## í”„ë¡œì íŠ¸ ì½”ë”© ê·œì¹™

> âš ï¸ **`CLAUDE.md` ì°¸ì¡°**: í”„ë¡œì íŠ¸ë³„ ê¸°ìˆ  ìŠ¤íƒ, ì½”ë”© ì»¨ë²¤ì…˜, ìŠ¤íƒ€ì¼ ê·œì¹™ì€ `CLAUDE.md`ë¥¼ ë”°ë¦…ë‹ˆë‹¤.

---

## í’ˆì§ˆ ê¸°ì¤€

| í•­ëª© | ê¸°ì¤€ |
|------|------|
| TDD ì»¤ë²„ë¦¬ì§€ | 80% ì´ìƒ |
| E2E í†µê³¼ìœ¨ | 100% |
| ì •ì  ë¶„ì„ | Pass |
| ìš”êµ¬ì‚¬í•­ ì»¤ë²„ë¦¬ì§€ | FR/BR 100% |

---

## ì¶œë ¥ ì˜ˆì‹œ (Full-stack)

```
[wf:build] TDD ê¸°ë°˜ êµ¬í˜„

Task: TSK-01-01-01 | Full-stack
ìƒíƒœ ì „í™˜: [ap] â†’ [im]

ğŸ“‹ 1ë‹¨ê³„: ì„¤ê³„ ë¶„ì„ (ë¶„í•  ë¬¸ì„œ ì—°ê³„)
â”œâ”€â”€ 025-traceability-matrix.md: FR 6, BR 6 ë§¤í•‘
â”œâ”€â”€ 026-test-specification.md: UT 12ê±´, E2E 8ê±´
â””â”€â”€ ui-assets/: 3ê°œ ì´ë¯¸ì§€ ë¶„ì„ ì™„ë£Œ

ğŸ”§ 2ë‹¨ê³„: Backend (backend-architect)
â”œâ”€â”€ Red: UT-001~012 í…ŒìŠ¤íŠ¸ ì‘ì„±
â”œâ”€â”€ Green: Controller/Service êµ¬í˜„
â””â”€â”€ í…ŒìŠ¤íŠ¸: 12/12 âœ… [2íšŒ ì‹œë„]

ğŸ¨ 3ë‹¨ê³„: Frontend (frontend-architect)
â”œâ”€â”€ UI Assets ê¸°ë°˜ êµ¬í˜„ âœ…
â”œâ”€â”€ í…Œë§ˆ: ui-theme-dark.md ì ìš©
â””â”€â”€ E2E: 8/8 âœ… [3íšŒ ì‹œë„]

ğŸ”„ 4ë‹¨ê³„: í…ŒìŠ¤íŠ¸-ìˆ˜ì • ë£¨í”„
â”œâ”€â”€ TDD: 2íšŒ ì‹œë„ â†’ 12/12 âœ…
â””â”€â”€ E2E: 3íšŒ ì‹œë„ â†’ 8/8 âœ…

ğŸ“„ 5ë‹¨ê³„: í…ŒìŠ¤íŠ¸ ê²°ê³¼ì„œ ìƒì„±
â”œâ”€â”€ 070-tdd-test-results.md âœ…
â”œâ”€â”€ 070-e2e-test-results.md âœ…
â”œâ”€â”€ test-results/20250101-120000/
â”‚   â”œâ”€â”€ tdd/coverage/ (85%)
â”‚   â””â”€â”€ e2e/screenshots/ (8ì¥)
â””â”€â”€ WBS: test-result â†’ pass

ğŸ“Š í’ˆì§ˆ: TDD 85% | E2E 100% | FR/BR 100%

---
ORCHAY_DONE:{project}/TSK-01-01-01:build:success
```

---

## ì—ëŸ¬ ì¼€ì´ìŠ¤

| ì—ëŸ¬ | ë©”ì‹œì§€ |
|------|--------|
| ì˜ëª»ëœ category | `[ERROR] development/infrastructureë§Œ ì§€ì›` |
| ì˜ëª»ëœ ìƒíƒœ | `[ERROR] ìŠ¹ì¸ ìƒíƒœê°€ ì•„ë‹™ë‹ˆë‹¤. /wf:approve ì‹¤í–‰ í•„ìš”` |
| ì„¤ê³„ ë¬¸ì„œ ì—†ìŒ | `[ERROR] ì„¤ê³„ ë¬¸ì„œê°€ ì—†ìŠµë‹ˆë‹¤ (010-design.md)` |
| UI Assets ì—†ìŒ | `[INFO] ui-assets/ ì—†ìŒ. ë¬¸ì„œ/í…Œë§ˆ ì°¸ì¡°` |
| TDD 5íšŒ ì´ˆê³¼ | `[ERROR] TDD 5íšŒ ì‹œë„ í›„ ì‹¤íŒ¨. ìˆ˜ë™ ê°œì… í•„ìš”` |
| E2E 5íšŒ ì´ˆê³¼ | `[ERROR] E2E 5íšŒ ì‹œë„ í›„ ì‹¤íŒ¨. ìˆ˜ë™ ê°œì… í•„ìš”` |

---

## ì™„ë£Œ ì‹ í˜¸

ì‘ì—…ì˜ **ëª¨ë“  ì¶œë ¥ì´ ëë‚œ í›„ ê°€ì¥ ë§ˆì§€ë§‰ì—** ë‹¤ìŒ í˜•ì‹ìœ¼ë¡œ ì¶œë ¥:

**ì„±ê³µ:**
```
ORCHAY_DONE:{project}/{task-id}:build:success
```

**ì‹¤íŒ¨:**
```
ORCHAY_DONE:{project}/{task-id}:build:error:{ì—ëŸ¬ ìš”ì•½}
```

> âš ï¸ ì´ ì¶œë ¥ì€ orchay ìŠ¤ì¼€ì¤„ëŸ¬ê°€ ì‘ì—… ì™„ë£Œë¥¼ ê°ì§€í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. ë°˜ë“œì‹œ ì •í™•í•œ í˜•ì‹ìœ¼ë¡œ ì¶œë ¥í•˜ì„¸ìš”.

---

## ê³µí†µ ëª¨ë“ˆ ì°¸ì¡°

@.claude/includes/wf-common-lite.md
@.claude/includes/wf-conflict-resolution-lite.md
@.claude/includes/wf-auto-commit-lite.md

---

<!--
wf:build lite
Version: 1.3
-->
