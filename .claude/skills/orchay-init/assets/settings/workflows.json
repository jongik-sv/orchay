{
  "$schema": "./schemas/workflows.schema.json",
  "version": "2.0",
  "states": {
    "[ ]": { "id": "todo", "label": "시작 전", "labelEn": "Todo", "icon": "pi-inbox", "color": "#6b7280", "severity": "secondary", "progressWeight": 0, "phase": "todo" },
    "[dd]": { "id": "detail-design", "label": "상세설계", "labelEn": "Detail Design", "icon": "pi-file-edit", "color": "#8b5cf6", "severity": "info", "progressWeight": 40, "phase": "design" },
    "[ap]": { "id": "approve", "label": "승인", "labelEn": "Approve", "icon": "pi-check-square", "color": "#10b981", "severity": "success", "progressWeight": 50, "phase": "design" },
    "[im]": { "id": "implement", "label": "구현", "labelEn": "Implement", "icon": "pi-code", "color": "#f59e0b", "severity": "warning", "progressWeight": 60, "phase": "implement" },
    "[vf]": { "id": "verify", "label": "검증", "labelEn": "Verify", "icon": "pi-verified", "color": "#22c55e", "severity": "success", "progressWeight": 80, "phase": "implement" },
    "[xx]": { "id": "done", "label": "완료", "labelEn": "Done", "icon": "pi-check-circle", "color": "#10b981", "severity": "success", "progressWeight": 100, "phase": "done" }
  },
  "commands": {
    "start": { "label": "시작", "labelEn": "Start", "icon": "pi-play", "severity": "primary" },
    "design": { "label": "설계", "labelEn": "Design", "icon": "pi-pencil", "severity": "info" },
    "draft": { "label": "상세설계", "labelEn": "Draft", "icon": "pi-pencil", "severity": "info" },
    "approve": { "label": "승인", "labelEn": "Approve", "icon": "pi-check", "severity": "success" },
    "build": { "label": "구현", "labelEn": "Build", "icon": "pi-wrench", "severity": "warning" },
    "verify": { "label": "검증", "labelEn": "Verify", "icon": "pi-verified", "severity": "success" },
    "done": { "label": "완료", "labelEn": "Done", "icon": "pi-check-circle", "severity": "success" },
    "fix": { "label": "수정", "labelEn": "Fix", "icon": "pi-wrench", "severity": "danger" },
    "ui": { "label": "UI설계", "labelEn": "UI Design", "icon": "pi-palette", "severity": "info", "isAction": true },
    "review": { "label": "리뷰", "labelEn": "Review", "icon": "pi-eye", "severity": "secondary", "isAction": true },
    "apply": { "label": "적용", "labelEn": "Apply", "icon": "pi-check", "severity": "secondary", "isAction": true },
    "test": { "label": "테스트", "labelEn": "Test", "icon": "pi-bolt", "severity": "warning", "isAction": true },
    "audit": { "label": "코드리뷰", "labelEn": "Audit", "icon": "pi-search", "severity": "secondary", "isAction": true },
    "patch": { "label": "패치", "labelEn": "Patch", "icon": "pi-file-edit", "severity": "secondary", "isAction": true }
  },
  "workflows": {
    "development": {
      "name": "Development Workflow",
      "states": ["[ ]", "[dd]", "[ap]", "[im]", "[vf]", "[xx]"],
      "transitions": [
        { "from": "[ ]", "to": "[dd]", "command": "start" },
        { "from": "[dd]", "to": "[ap]", "command": "approve" },
        { "from": "[ap]", "to": "[im]", "command": "build" },
        { "from": "[im]", "to": "[vf]", "command": "verify" }
      ],
      "actions": {
        "[dd]": ["review", "apply"],
        "[im]": ["test", "audit", "patch"],
        "[vf]": ["test"]
      }
    },
    "defect": {
      "name": "Defect Workflow",
      "states": ["[ ]", "[dd]", "[ap]", "[im]", "[vf]", "[xx]"],
      "transitions": [
        { "from": "[ ]", "to": "[dd]", "command": "start" },
        { "from": "[dd]", "to": "[ap]", "command": "approve" },
        { "from": "[ap]", "to": "[im]", "command": "fix" },
        { "from": "[im]", "to": "[vf]", "command": "verify" }
      ],
      "actions": {
        "[dd]": ["review", "apply"],
        "[im]": ["test", "audit", "patch"],
        "[vf]": ["test"]
      }
    },
    "infrastructure": {
      "name": "Infrastructure Workflow",
      "states": ["[ ]", "[dd]", "[ap]", "[im]", "[vf]", "[xx]"],
      "transitions": [
        { "from": "[ ]", "to": "[dd]", "command": "start" },
        { "from": "[dd]", "to": "[ap]", "command": "approve" },
        { "from": "[ap]", "to": "[im]", "command": "build" },
        { "from": "[im]", "to": "[vf]", "command": "verify" }
      ],
      "actions": {
        "[dd]": ["review", "apply"],
        "[im]": ["test", "audit", "patch"],
        "[vf]": ["test"]
      }
    }
  }
}
