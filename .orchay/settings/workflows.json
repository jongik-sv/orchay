{
  "$schema": "./schemas/workflows.schema.json",
  "version": "2.0",
  "defaultCategory": "development",
  "states": {
    "[ ]": { "id": "todo", "label": "시작 전", "labelEn": "Todo", "icon": "pi-inbox", "color": "#6b7280", "severity": "secondary", "progressWeight": 0, "phase": "todo" },
    "[dd]": { "id": "detail-design", "label": "상세설계", "labelEn": "Detail Design", "icon": "pi-file-edit", "color": "#8b5cf6", "severity": "info", "progressWeight": 40, "phase": "design" },
    "[ap]": { "id": "approve", "label": "승인", "labelEn": "Approve", "icon": "pi-check-square", "color": "#10b981", "severity": "success", "progressWeight": 50, "phase": "design" },
    "[im]": { "id": "implement", "label": "구현", "labelEn": "Implement", "icon": "pi-code", "color": "#f59e0b", "severity": "warning", "progressWeight": 60, "phase": "implement" },
    "[vf]": { "id": "verify", "label": "검증", "labelEn": "Verify", "icon": "pi-verified", "color": "#22c55e", "severity": "success", "progressWeight": 80, "phase": "implement" },
    "[xx]": { "id": "done", "label": "완료", "labelEn": "Done", "icon": "pi-check-circle", "color": "#10b981", "severity": "success", "progressWeight": 100, "phase": "done" }
  },
  "commands": {
    "start": { "label": "시작", "labelEn": "Start", "icon": "pi-play", "severity": "primary" },
    "design": { "label": "설계", "labelEn": "Design", "icon": "pi-pencil", "severity": "info" },
    "draft": { "label": "상세설계", "labelEn": "Draft", "icon": "pi-pencil", "severity": "info" },
    "approve": { "label": "승인", "labelEn": "Approve", "icon": "pi-check", "severity": "success" },
    "build": { "label": "구현", "labelEn": "Build", "icon": "pi-wrench", "severity": "warning" },
    "verify": { "label": "검증", "labelEn": "Verify", "icon": "pi-verified", "severity": "success" },
    "done": { "label": "완료", "labelEn": "Done", "icon": "pi-check-circle", "severity": "success" },
    "fix": { "label": "수정", "labelEn": "Fix", "icon": "pi-wrench", "severity": "danger" },
    "ui": { "label": "UI설계", "labelEn": "UI Design", "icon": "pi-palette", "severity": "info", "isAction": true },
    "review": { "label": "리뷰", "labelEn": "Review", "icon": "pi-eye", "severity": "secondary", "isAction": true },
    "apply": { "label": "적용", "labelEn": "Apply", "icon": "pi-check", "severity": "secondary", "isAction": true },
    "test": { "label": "테스트", "labelEn": "Test", "icon": "pi-bolt", "severity": "warning", "isAction": true },
    "audit": { "label": "코드리뷰", "labelEn": "Audit", "icon": "pi-search", "severity": "secondary", "isAction": true },
    "patch": { "label": "패치", "labelEn": "Patch", "icon": "pi-file-edit", "severity": "secondary", "isAction": true }
  },
  "executionModes": {
    "design": {
      "label": "설계 모드",
      "labelEn": "Design Mode",
      "description": "설계 문서 생성 및 리뷰 (start → review → apply)",
      "workflowScope": "design-only",
      "stopAfterCommand": "apply",
      "stopAtState": "[dd]",
      "dependencyCheck": "ignore",
      "manualCommands": [],
      "color": "#3b82f6"
    },
    "quick": {
      "label": "빠른 개발",
      "labelEn": "Quick Dev",
      "description": "단순 워크플로우 (transitions만, actions 생략)",
      "workflowScope": "transitions-only",
      "stopAtState": "[xx]",
      "dependencyCheck": "check-implemented",
      "manualCommands": ["approve", "done"],
      "color": "#22c55e"
    },
    "develop": {
      "label": "전체 개발",
      "labelEn": "Full Dev",
      "description": "전체 워크플로우 (transitions + actions)",
      "workflowScope": "full",
      "stopAtState": "[im]",
      "dependencyCheck": "check-implemented",
      "manualCommands": ["approve", "done"],
      "color": "#8b5cf6"
    },
    "force": {
      "label": "강제 모드",
      "labelEn": "Force Mode",
      "description": "의존성 무시, 단순 워크플로우",
      "workflowScope": "transitions-only",
      "stopAtState": "[xx]",
      "dependencyCheck": "ignore",
      "manualCommands": ["done"],
      "color": "#f59e0b"
    },
    "test": {
      "label": "테스트 모드",
      "labelEn": "Test Mode",
      "description": "구현 완료된 Task에 /wf:test 실행",
      "workflowScope": "test-only",
      "stopAtState": null,
      "dependencyCheck": "ignore",
      "manualCommands": [],
      "requiresSelection": true,
      "targetStatuses": ["[im]", "[vf]", "[xx]"],
      "color": "#f97316"
    }
  },
  "categories": {
    "development": {
      "label": "개발",
      "labelEn": "Development",
      "icon": "pi-bolt",
      "color": "#22c55e",
      "description": "기능 개발"
    },
    "defect": {
      "label": "결함",
      "labelEn": "Defect",
      "icon": "pi-bug",
      "color": "#ef4444",
      "description": "결함 수정"
    },
    "infrastructure": {
      "label": "인프라",
      "labelEn": "Infrastructure",
      "icon": "pi-cog",
      "color": "#6b7280",
      "description": "인프라, 리팩토링 등 기술 작업"
    }
  },
  "workflows": {
    "development": {
      "name": "Development Workflow",
"states": ["[ ]", "[dd]", "[ap]", "[im]", "[vf]", "[xx]"],
      "transitions": [
        { "from": "[ ]", "to": "[dd]", "command": "start" },
        { "from": "[dd]", "to": "[ap]", "command": "approve" },
        { "from": "[ap]", "to": "[im]", "command": "build" },
        { "from": "[im]", "to": "[vf]", "command": "verify" },
        { "from": "[vf]", "to": "[xx]", "command": "done" }
      ],
      "actions": {
        "[dd]": ["review", "apply"],
        "[im]": ["audit", "patch"],
        "[vf]": ["test"]
      }
    },
    "defect": {
      "name": "Defect Workflow",
"states": ["[ ]", "[dd]", "[ap]", "[im]", "[vf]", "[xx]"],
      "transitions": [
        { "from": "[ ]", "to": "[dd]", "command": "start" },
        { "from": "[dd]", "to": "[ap]", "command": "approve" },
        { "from": "[ap]", "to": "[im]", "command": "fix" },
        { "from": "[im]", "to": "[vf]", "command": "verify" },
        { "from": "[vf]", "to": "[xx]", "command": "done" }
      ],
      "actions": {
        "[dd]": ["review", "apply"],
        "[im]": ["audit", "patch"],
        "[vf]": ["test"]
      }
    },
    "infrastructure": {
      "name": "Infrastructure Workflow",
"states": ["[ ]", "[dd]", "[ap]", "[im]", "[vf]", "[xx]"],
      "transitions": [
        { "from": "[ ]", "to": "[dd]", "command": "start" },
        { "from": "[dd]", "to": "[ap]", "command": "approve" },
        { "from": "[ap]", "to": "[im]", "command": "build" },
        { "from": "[im]", "to": "[vf]", "command": "verify" },
        { "from": "[vf]", "to": "[xx]", "command": "done" }
      ],
      "actions": {
        "[dd]": ["review", "apply"],
        "[im]": ["audit", "patch"],
        "[vf]": ["test"]
      }
    }
  }
}
