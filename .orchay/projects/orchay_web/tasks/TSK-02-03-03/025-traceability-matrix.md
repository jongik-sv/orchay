# 요구사항 추적성 매트릭스

**Template Version:** 1.0.0 — **Last Updated:** 2025-12-14

> **목적**: PRD → 기본설계 → 상세설계 → 테스트 4단계 양방향 추적
>
> **참조**: 이 문서는 `020-detail-design.md`와 `026-test-specification.md`와 함께 사용됩니다.

---

## 0. 문서 메타데이터

| 항목 | 내용 |
|------|------|
| Task ID | TSK-02-03-03 |
| Task명 | 프로젝트 메타데이터 서비스 |
| 상세설계 참조 | `020-detail-design.md` |
| 테스트 명세 참조 | `026-test-specification.md` |
| 작성일 | 2025-12-14 |
| 작성자 | Claude |

---

## 1. 기능 요구사항 추적 (FR → 설계 → 테스트)

> PRD → 기본설계 → 상세설계 → 테스트케이스 매핑

| 요구사항 ID | PRD 섹션 | 기본설계 섹션 | 상세설계 섹션 | 단위 테스트 | E2E 테스트 | 매뉴얼 TC | 상태 |
|-------------|----------|--------------|--------------|-------------|------------|-----------|------|
| FR-001 | 7.1, 8.1 | 3.1 | 7.2 | UT-001 | E2E-001 | TC-001 | 설계완료 |
| FR-002 | 7.1, 8.1 | 3.2 | 7.3 | UT-002 | E2E-002 | TC-002 | 설계완료 |
| FR-003 | 7.1, 8.1 | 3.3 | 7.4 | UT-003, UT-004 | E2E-003 | TC-003 | 설계완료 |
| FR-004 | 7.1, 8.1 | 3.4 | 7.5 | UT-005, UT-006 | E2E-004 | TC-004 | 설계완료 |
| FR-005 | 7.1, 8.1 | 3.5 | 7.6 | UT-007, UT-008 | E2E-005 | TC-005 | 설계완료 |

### 1.1 요구사항별 상세 매핑

#### FR-001: 프로젝트 목록 조회

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 7.1, 8.1 | 등록된 모든 프로젝트 목록 조회 |
| 기본설계 | 010-basic-design.md | 3.1 | 프로젝트 목록 조회 기능 정의 |
| 상세설계 | 020-detail-design.md | 7.2 | GET /api/projects API 상세 |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-001: 목록 조회 정상 동작 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-001: 프로젝트 목록 API 호출 |

#### FR-002: 프로젝트 상세 조회

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 7.1, 8.1 | 특정 프로젝트 메타데이터 조회 |
| 기본설계 | 010-basic-design.md | 3.2 | 프로젝트 상세 조회 기능 정의 |
| 상세설계 | 020-detail-design.md | 7.3 | GET /api/projects/:id API 상세 |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-002: 상세 조회 정상 동작 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-002: 프로젝트 상세 API 호출 |

#### FR-003: 프로젝트 생성

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 7.1, 8.1 | 새 프로젝트 폴더 및 초기 파일 생성 |
| 기본설계 | 010-basic-design.md | 3.3 | 프로젝트 생성 기능 정의 |
| 상세설계 | 020-detail-design.md | 7.4 | POST /api/projects API 상세 |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-003: 생성 정상, UT-004: 중복 ID 검증 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-003: 프로젝트 생성 플로우 |

#### FR-004: 프로젝트 정보 수정

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 7.1, 8.1 | 프로젝트 메타데이터 수정 |
| 기본설계 | 010-basic-design.md | 3.4 | 프로젝트 정보 수정 기능 정의 |
| 상세설계 | 020-detail-design.md | 7.5 | PUT /api/projects/:id API 상세 |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-005: 수정 정상, UT-006: ID 변경 불가 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-004: 프로젝트 수정 플로우 |

#### FR-005: 팀원 목록 조회/수정

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 7.1, 8.1 | 프로젝트 팀원 관리 |
| 기본설계 | 010-basic-design.md | 3.5 | 팀원 목록 조회/수정 기능 정의 |
| 상세설계 | 020-detail-design.md | 7.6 | GET/PUT /api/projects/:id/team API 상세 |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-007: 팀원 조회, UT-008: 팀원 수정 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-005: 팀원 관리 플로우 |

---

## 2. 비즈니스 규칙 추적 (BR → 구현 → 검증)

| 규칙 ID | PRD 출처 | 기본설계 섹션 | 구현 위치(개념) | 단위 테스트 | E2E 테스트 | 검증 방법 | 상태 |
|---------|----------|--------------|-----------------|-------------|------------|-----------|------|
| BR-001 | 7.1 | 4 | API Validator | UT-003 | E2E-003 | 유효하지 않은 ID 입력 시 에러 확인 | 설계완료 |
| BR-002 | 7.1 | 4 | API Handler | UT-005 | E2E-004 | ID 변경 시도 시 에러 확인 | 설계완료 |
| BR-003 | 7.1 | 4 | TeamService | UT-008 | E2E-005 | 중복 팀원 ID 입력 시 에러 확인 | 설계완료 |
| BR-004 | 7.1 | 4 | ProjectService | UT-004 | E2E-003 | 폴더/파일 자동 생성 확인 | 설계완료 |
| BR-005 | 7.1 | 4 | ProjectsListService | UT-009 | - | 유효하지 않은 defaultProject 설정 시 에러 | 설계완료 |

### 2.1 비즈니스 규칙별 상세 매핑

#### BR-001: 프로젝트 ID 형식 제한

| 구분 | 내용 |
|------|------|
| **PRD 원문** | 프로젝트 ID는 영소문자, 숫자, 하이픈만 허용 |
| **기본설계 표현** | 프로젝트 생성 시 ID 형식 검증 |
| **구현 위치** | API Validator (정규식 검증) |
| **검증 방법** | 유효하지 않은 ID 입력 시 400 에러 반환 |
| **관련 테스트** | UT-003, E2E-003 |

#### BR-002: 프로젝트 ID 불변성

| 구분 | 내용 |
|------|------|
| **PRD 원문** | 프로젝트 ID는 변경 불가 (폴더명과 동일) |
| **기본설계 표현** | 프로젝트 수정 시 ID 변경 불가 |
| **구현 위치** | API Handler (ID 필드 수정 시도 감지) |
| **검증 방법** | Body에 id 포함 시 400 ID_IMMUTABLE 에러 |
| **관련 테스트** | UT-005, E2E-004 |

#### BR-003: 팀원 ID 고유성

| 구분 | 내용 |
|------|------|
| **PRD 원문** | 팀원 ID는 프로젝트 내 고유해야 함 |
| **기본설계 표현** | 팀원 추가 시 중복 검증 |
| **구현 위치** | TeamService (Set을 이용한 중복 체크) |
| **검증 방법** | 중복 ID 입력 시 400 DUPLICATE_MEMBER_ID 에러 |
| **관련 테스트** | UT-008, E2E-005 |

#### BR-004: 프로젝트 생성 시 폴더 구조 자동 생성

| 구분 | 내용 |
|------|------|
| **PRD 원문** | 프로젝트 생성 시 기본 폴더 구조 자동 생성 |
| **기본설계 표현** | 폴더 및 파일 자동 생성 |
| **구현 위치** | ProjectService (fs.mkdir + writeJson) |
| **검증 방법** | 생성 후 폴더/파일 존재 확인 |
| **관련 테스트** | UT-004, E2E-003 |

#### BR-005: defaultProject 유효성 검증

| 구분 | 내용 |
|------|------|
| **PRD 원문** | defaultProject 설정 시 유효한 프로젝트 ID 검증 |
| **기본설계 표현** | 설정 변경 시 유효성 검증 |
| **구현 위치** | ProjectsListService |
| **검증 방법** | 존재하지 않는 프로젝트 ID 설정 시 에러 |
| **관련 테스트** | UT-009 |

---

## 3. 테스트 역추적 매트릭스

> 테스트 결과 → 요구사항 역추적용 (build/verify 단계 결과서 생성 시 활용)

| 테스트 ID | 테스트 유형 | 검증 대상 요구사항 | 검증 대상 비즈니스 규칙 | 상태 |
|-----------|------------|-------------------|----------------------|------|
| UT-001 | 단위 | FR-001 | - | 미실행 |
| UT-002 | 단위 | FR-002 | - | 미실행 |
| UT-003 | 단위 | FR-003 | BR-001 | 미실행 |
| UT-004 | 단위 | FR-003 | BR-004 | 미실행 |
| UT-005 | 단위 | FR-004 | BR-002 | 미실행 |
| UT-006 | 단위 | FR-004 | - | 미실행 |
| UT-007 | 단위 | FR-005 | - | 미실행 |
| UT-008 | 단위 | FR-005 | BR-003 | 미실행 |
| UT-009 | 단위 | - | BR-005 | 미실행 |
| UT-010 | 단위 | FR-002 | - | 미실행 |
| E2E-001 | E2E | FR-001 | - | 미실행 |
| E2E-002 | E2E | FR-002 | - | 미실행 |
| E2E-003 | E2E | FR-003 | BR-001, BR-004 | 미실행 |
| E2E-004 | E2E | FR-004 | BR-002 | 미실행 |
| E2E-005 | E2E | FR-005 | BR-003 | 미실행 |
| TC-001 | 매뉴얼 | FR-001 | - | 미실행 |
| TC-002 | 매뉴얼 | FR-002 | - | 미실행 |
| TC-003 | 매뉴얼 | FR-003 | BR-001, BR-004 | 미실행 |
| TC-004 | 매뉴얼 | FR-004 | BR-002 | 미실행 |
| TC-005 | 매뉴얼 | FR-005 | BR-003 | 미실행 |

---

## 4. 데이터 모델 추적

> 기본설계 엔티티 → 상세설계 데이터 모델 → API DTO 매핑

| 기본설계 엔티티 | 상세설계 데이터 모델 | API Request DTO | API Response DTO |
|----------------|---------------------|-----------------|------------------|
| ProjectsConfig | ProjectsConfig (섹션 6.1) | - | GET /api/projects 응답 |
| ProjectListItem | ProjectListItem (섹션 6.1) | - | 목록 내 항목 |
| ProjectConfig | ProjectConfig (섹션 6.1) | CreateProjectDto, UpdateProjectDto | ProjectResponse |
| TeamConfig | TeamConfig (섹션 6.1) | - | TeamResponse |
| TeamMember | TeamMember (섹션 6.1) | TeamMemberDto | TeamMember[] |

---

## 5. 인터페이스 추적

> 기본설계 인터페이스 요구사항 → API 엔드포인트 매핑

| 기본설계 인터페이스 | 상세설계 API | Method | Endpoint | 요구사항 |
|--------------------|-------------|--------|----------|----------|
| getProjectList() | 프로젝트 목록 조회 | GET | /api/projects | FR-001 |
| getProject(id) | 프로젝트 상세 조회 | GET | /api/projects/:id | FR-002 |
| createProject(data) | 프로젝트 생성 | POST | /api/projects | FR-003 |
| updateProject(id, data) | 프로젝트 수정 | PUT | /api/projects/:id | FR-004 |
| getTeam(projectId) | 팀원 목록 조회 | GET | /api/projects/:id/team | FR-005 |
| updateTeam(projectId, members) | 팀원 목록 수정 | PUT | /api/projects/:id/team | FR-005 |

---

## 6. 화면 추적

> 기본설계 화면 요구사항 → 상세설계 연동 화면 매핑

| 기본설계 화면 | 상세설계 연동 화면 | 사용 API | 요구사항 |
|--------------|------------------|----------|----------|
| 프로젝트 선택기 | Header 프로젝트 드롭다운 | GET /api/projects | FR-001 |
| 프로젝트 설정 | 프로젝트 설정 페이지 | GET/PUT /api/projects/:id | FR-002, FR-004 |
| 팀원 관리 | 팀원 관리 탭 | GET/PUT /api/projects/:id/team | FR-005 |
| 프로젝트 생성 모달 | 생성 다이얼로그 | POST /api/projects | FR-003 |

---

## 7. 추적성 검증 요약

### 7.1 커버리지 통계

| 구분 | 총 항목 | 매핑 완료 | 미매핑 | 커버리지 |
|------|---------|----------|--------|---------|
| 기능 요구사항 (FR) | 5 | 5 | 0 | 100% |
| 비즈니스 규칙 (BR) | 5 | 5 | 0 | 100% |
| 단위 테스트 (UT) | 10 | 10 | 0 | 100% |
| E2E 테스트 | 5 | 5 | 0 | 100% |
| 매뉴얼 테스트 (TC) | 5 | 5 | 0 | 100% |
| 데이터 모델 | 5 | 5 | 0 | 100% |
| 인터페이스 | 6 | 6 | 0 | 100% |

### 7.2 미매핑 항목 (있는 경우)

| 구분 | ID | 설명 | 미매핑 사유 |
|------|-----|------|-----------|
| - | - | - | 모든 항목 매핑 완료 |

---

## 관련 문서

- 상세설계: `020-detail-design.md`
- 테스트 명세: `026-test-specification.md`
- 기본설계: `010-basic-design.md`
- PRD: `.orchay/projects/orchay/prd.md`

---

<!--
author: Claude
Created: 2025-12-14
Task: TSK-02-03-03 프로젝트 메타데이터 서비스 추적성 매트릭스
-->
