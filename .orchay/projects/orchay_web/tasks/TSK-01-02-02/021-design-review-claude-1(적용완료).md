# 설계 리뷰: AppHeader 컴포넌트

## 문서 정보

| 항목 | 내용 |
|------|------|
| Task ID | TSK-01-02-02 |
| Task명 | AppHeader 컴포넌트 구현 |
| 리뷰어 | Claude |
| 리뷰 회차 | 1차 |
| 리뷰 일자 | 2025-12-13 |

---

## 1. 리뷰 범위

### 1.1 검증 대상 문서

| 문서 | 경로 | 상태 |
|------|------|------|
| 상세설계서 | `020-detail-design.md` | 검토 완료 |
| 추적성 매트릭스 | `025-traceability-matrix.md` | 검토 완료 |
| 테스트 명세서 | `026-test-specification.md` | 검토 완료 |
| 기본설계서 | `010-basic-design.md` | 검토 완료 |

### 1.2 참조 문서

| 문서 | 경로 |
|------|------|
| PRD | `.orchay/projects/orchay/prd.md` |
| TRD | `.orchay/projects/orchay/trd.md` |

---

## 2. 리뷰 요약

### 2.1 검증 영역 평가

| 검증 영역 | 평가 | 비고 |
|----------|------|------|
| 문서 완전성 | PASS | 필수 섹션 모두 포함 |
| 요구사항 추적성 | PASS | 3 FR, 4 BR 모두 매핑 완료 |
| 아키텍처 | PASS | 컴포넌트 책임 분리 적절 |
| 보안 | PASS | N/A (UI 헤더 컴포넌트) |
| 성능 | PASS | 메뉴 4개로 성능 이슈 없음 |
| 테스트 가능성 | PASS | 6개 E2E 테스트케이스 정의됨 |

### 2.2 이슈 분포

| 우선순위 | Critical | High | Medium | Low | Info | 합계 |
|----------|----------|------|--------|-----|------|------|
| P1 | 0 | 0 | 0 | 0 | 0 | 0 |
| P2 | 0 | 0 | 0 | 0 | 0 | 0 |
| P3 | 0 | 0 | 1 | 0 | 0 | 1 |
| P4 | 0 | 0 | 0 | 2 | 0 | 2 |
| P5 | 0 | 0 | 0 | 0 | 1 | 1 |
| **합계** | 0 | 0 | 1 | 2 | 1 | **4** |

---

## 3. 문서 구조 및 완전성 검증

### 3.1 상세설계서 구조 분석

| 항목 | 상태 | 비고 |
|------|------|------|
| 메타데이터 | ✅ PASS | Task ID, 작성일 등 완비 |
| 상위 문서 참조 | ✅ PASS | PRD, TRD, 기본설계 명시 |
| 일관성 검증 결과 | ✅ PASS | 15개 항목 모두 PASS |
| 목적 및 범위 | ✅ PASS | 명확하게 정의됨 |
| 기술 스택 | ✅ PASS | TRD 기준 준수 |
| 시스템 구조 | ✅ PASS | 모듈 역할 정의 |
| 데이터 모델 | ✅ PASS | MenuItem 구조 정의 |
| 인터페이스 계약 | ✅ PASS | Props, Emits 정의 |
| 프로세스 흐름 | ✅ PASS | 2개 Mermaid 다이어그램 포함 |
| UI 설계 | ✅ PASS | ASCII 레이아웃 포함 |
| 비즈니스 규칙 명세 | ✅ PASS | 4개 BR 구현 방안 명시 |
| 오류/예외 처리 | ✅ PASS | 경계 조건 정의 |
| 구현 체크리스트 | ✅ PASS | Frontend + 품질 항목 |

### 3.2 추적성 매트릭스 검증

| 항목 | 상태 | 비고 |
|------|------|------|
| FR → 설계 → 테스트 | ✅ PASS | 3개 FR 100% 매핑 |
| BR → 구현 → 검증 | ✅ PASS | 4개 BR 100% 매핑 |
| 테스트 역추적 | ✅ PASS | 6개 E2E + 3개 TC 매핑 |
| 커버리지 통계 | ✅ PASS | 100% 커버리지 |

### 3.3 테스트 명세서 검증

| 항목 | 상태 | 비고 |
|------|------|------|
| 테스트 전략 | ✅ PASS | E2E + 매뉴얼 테스트 전략 |
| E2E 테스트 케이스 | ✅ PASS | 6개 시나리오 정의 |
| 매뉴얼 테스트 케이스 | ✅ PASS | 6개 TC 정의 |
| Fixture 데이터 | ✅ PASS | 프로젝트 및 메뉴 데이터 정의 |
| data-testid 목록 | ✅ PASS | 8개 셀렉터 정의 |

---

## 4. 아키텍처 검증

### 4.1 시스템 구조 분석

| 항목 | 평가 | 비고 |
|------|------|------|
| 컴포넌트 구조 | ✅ PASS | components/layout/ 폴더 구조 |
| 컴포넌트 분할 | ✅ PASS | AppHeader 단일 책임 |
| 외부 스토어 연동 | ✅ PASS | projectStore 의존성 정의 |
| PrimeVue 활용 | ✅ PASS | Button, Toast 사용 |

### 4.2 데이터 흐름 검증

| 항목 | 평가 | 비고 |
|------|------|------|
| Props 전달 | ✅ PASS | projectName props |
| Store 연동 | ✅ PASS | projectStore.currentProject.name |
| Router 연동 | ✅ PASS | useRoute(), navigateTo() |
| Toast 연동 | ✅ PASS | PrimeVue Toast 사용 |

### 4.3 통합 전략 평가

| 항목 | 평가 | 비고 |
|------|------|------|
| 외부 의존성 | ✅ PASS | PrimeVue, Pinia, Nuxt Router |
| 에러 처리 | ✅ PASS | 비활성 메뉴 클릭 시 Toast |
| 경계 조건 | ✅ PASS | 프로젝트명 말줄임 처리 |

---

## 5. 보안 검증

> 이 Task는 순수 UI 헤더 컴포넌트로 보안 검토 대상이 아님

| 항목 | 평가 | 비고 |
|------|------|------|
| 보안 위협 | N/A | UI 네비게이션만 담당 |
| 데이터 노출 | N/A | 민감 데이터 없음 |

---

## 6. 성능 및 품질 검증

### 6.1 성능 요구사항 검증

| 항목 | 평가 | 비고 |
|------|------|------|
| 렌더링 성능 | ✅ PASS | 4개 메뉴로 성능 이슈 없음 |
| 라우팅 성능 | ✅ PASS | Nuxt navigateTo 사용 |
| 병목 지점 | ✅ PASS | 없음 |

### 6.2 테스트 가능성 평가

| 항목 | 평가 | 비고 |
|------|------|------|
| E2E 시나리오 | ✅ PASS | 6개 테스트케이스 |
| Fixture 데이터 | ✅ PASS | 프로젝트/메뉴 데이터 정의 |
| data-testid | ✅ PASS | 8개 셀렉터 정의 |
| 추적성 일관성 | ✅ PASS | 매트릭스와 일치 |

### 6.3 코드 품질 기준

| 항목 | 평가 | 비고 |
|------|------|------|
| SOLID 원칙 | ✅ PASS | SRP 준수 (헤더 책임만) |
| TRD 표준 준수 | ✅ PASS | PrimeVue Button, Toast |
| 네이밍 컨벤션 | ✅ PASS | AppHeader, MenuItem 등 |

---

## 7. 이슈 상세

### 7.1 P3/Medium 이슈

#### ISS-001: 메뉴 아이템 하드코딩 우려

| 항목 | 내용 |
|------|------|
| **심각도** | Medium |
| **우선순위** | P3 |
| **영역** | 아키텍처 |
| **위치** | 020-detail-design.md, 섹션 6.2 |
| **설명** | 메뉴 아이템(대시보드, 칸반, WBS, Gantt)이 컴포넌트 내 고정 배열로 정의됨. 2차 개발에서 메뉴 추가/활성화 시 코드 수정 필요 |
| **권장 조치** | 메뉴 구성을 외부 설정 파일이나 composable로 분리하여 확장성 확보. 예: `useNavMenu()` composable 또는 `settings/menu.json` |
| **영향** | 2차 개발 시 유지보수성 |

### 7.2 P4/Low 이슈

#### ISS-002: 접근성 상세 정의 부족

| 항목 | 내용 |
|------|------|
| **심각도** | Low |
| **우선순위** | P4 |
| **영역** | 품질 |
| **위치** | 020-detail-design.md, 섹션 9.5 |
| **설명** | "aria-current" 언급은 있으나, 비활성 메뉴의 aria-disabled, 메뉴 그룹의 role="navigation" 등 상세 정의 부족 |
| **권장 조치** | ARIA 속성 매핑 테이블 추가 |
| **영향** | 스크린 리더 호환성 |

#### ISS-003: Toast 메시지 국제화(i18n) 고려 없음

| 항목 | 내용 |
|------|------|
| **심각도** | Low |
| **우선순위** | P4 |
| **영역** | 품질 |
| **위치** | 020-detail-design.md, 섹션 11.1 |
| **설명** | "준비 중입니다" 메시지가 하드코딩으로 정의됨. 향후 국제화 시 수정 필요 |
| **권장 조치** | 메시지 상수 또는 i18n 키로 관리 고려 |
| **영향** | 향후 국제화 확장 시 |

### 7.3 P5/Info 이슈

#### ISS-004: UI 설계 SVG 개념도 누락

| 항목 | 내용 |
|------|------|
| **심각도** | Info |
| **우선순위** | P5 |
| **영역** | 문서 |
| **위치** | 020-detail-design.md, 섹션 9 |
| **설명** | 상세설계 템플릿 규칙에 "Text Art(ASCII) → 바로 아래 SVG 개념도를 순차 배치"라고 되어 있으나 SVG 개념도가 누락됨. 단, ASCII만으로도 충분히 이해 가능 |
| **권장 조치** | 향후 복잡한 UI 설계 시 SVG 추가 고려 |
| **영향** | 문서 완성도 |

---

## 8. 강점

1. **요구사항 추적성 완성도**: PRD → 기본설계 → 상세설계 → 테스트 4단계 양방향 추적이 100% 완료됨
2. **프로세스 흐름 다이어그램**: 메뉴 클릭, 로고 클릭 2개의 Mermaid 시퀀스 다이어그램으로 동작이 명확함
3. **테스트 명세 구체성**: 6개 E2E 테스트케이스에 data-testid, 실행 단계, 검증 포인트가 상세하게 정의됨
4. **TRD 준수**: PrimeVue Button, Toast 사용으로 커스텀 컴포넌트 최소화
5. **비즈니스 규칙 명세**: BR-001~004에 대한 구현 위치와 검증 방법이 명확함
6. **경계 조건 처리**: 프로젝트명 말줄임, 라우트 정보 없음 등 예외 상황 정의

---

## 9. 개선 권장사항

| 순번 | 우선순위 | 내용 | 조치 기한 |
|------|----------|------|----------|
| 1 | P3 | 메뉴 아이템을 composable 또는 설정 파일로 분리 검토 | 구현 중 반영 또는 2차 개발 |
| 2 | P4 | ARIA 속성 상세 정의 추가 (role, aria-disabled 등) | 구현 중 수정 |
| 3 | P4 | 메시지 상수화 또는 i18n 키 관리 구조 검토 | 향후 국제화 시 |
| 4 | P5 | 복잡한 UI 설계 시 SVG 개념도 추가 고려 | 다음 iteration |

---

## 10. 결론

### 10.1 리뷰 결과

| 항목 | 결과 |
|------|------|
| **종합 평가** | **PASS** |
| **구현 진행 가능 여부** | **가능** |
| **재리뷰 필요 여부** | 불필요 |

### 10.2 다음 단계

- `/wf:build TSK-01-02-02` 명령어로 구현 진행 권장
- P3 이슈(메뉴 아이템 분리)는 구현 시 composable로 분리하면 좋음
- P4 이슈(접근성, i18n)는 구현 중 고려

---

## 관련 문서

- 상세설계: `020-detail-design.md`
- 추적성 매트릭스: `025-traceability-matrix.md`
- 테스트 명세: `026-test-specification.md`
- 기본설계: `010-basic-design.md`

---

## 11. 개선사항 적용 결과

**적용일**: 2025-12-13
**적용자**: Claude Opus 4.5
**수정 문서**: `020-detail-design.md`

### 11.1 적용 방침
- ✅ 시스템&Task 적합 → 적용
- 📝 조정 필요 → 수정 적용
- ⏸️ 부적합 → 보류

### 11.2 적용 완료 이슈

#### [ISS-001] 메뉴 아이템 하드코딩 우려 (P3)
| 항목 | 내용 |
|------|------|
| **원본 권장사항** | 메뉴 구성을 외부 설정 파일이나 composable로 분리하여 확장성 확보 |
| **적용 방식** | 📝 조정 |
| **반영 내용** | 섹션 6.2에 확장성 고려사항 추가 - composable (`useNavMenu`)로 분리 권장 |
| **수정 섹션** | 6.2 기본 메뉴 목록 |
| **적용 사유** | 2차 개발 시 메뉴 추가/활성화가 예상되므로 확장성 가이드 제공 |

#### [ISS-002] 접근성 상세 정의 부족 (P4)
| 항목 | 내용 |
|------|------|
| **원본 권장사항** | ARIA 속성 매핑 테이블 추가 (role, aria-disabled 등) |
| **적용 방식** | 📝 조정 |
| **반영 내용** | 섹션 9.5에 ARIA 속성 매핑 표 추가 (nav, 활성 메뉴, 비활성 메뉴, 로고) |
| **수정 섹션** | 9.5 반응형/접근성 가이드 |
| **적용 사유** | 접근성 개선은 시스템에 적합하며, 스크린 리더 호환성 향상 |

### 11.3 보류 이슈

#### [ISS-003] Toast 메시지 국제화(i18n) 고려 없음 (P4)
| 항목 | 내용 |
|------|------|
| **원본 권장사항** | 메시지 상수 또는 i18n 키로 관리 고려 |
| **보류 사유** | 1차 개발에서 i18n은 범위 외, 현재 한국어만 지원 |
| **대안/향후 계획** | 향후 국제화 시 메시지 상수화 또는 i18n 라이브러리 도입 검토 |

#### [ISS-004] UI 설계 SVG 개념도 누락 (P5)
| 항목 | 내용 |
|------|------|
| **원본 권장사항** | 향후 복잡한 UI 설계 시 SVG 추가 고려 |
| **보류 사유** | P5 참고사항으로 ASCII 다이어그램만으로 충분히 이해 가능 |
| **대안/향후 계획** | 향후 복잡한 UI 설계 시 SVG 추가 고려 |

### 11.4 적용 결과 요약

| 구분 | P1 | P2 | P3 | P4 | P5 | 합계 |
|------|----|----|----|----|----|----|
| 리뷰 이슈 | 0 | 0 | 1 | 2 | 1 | 4 |
| ✅ 적용 | 0 | 0 | 0 | 0 | 0 | 0 |
| 📝 조정 적용 | 0 | 0 | 1 | 1 | 0 | 2 |
| ⏸️ 보류 | 0 | 0 | 0 | 1 | 1 | 2 |

**카테고리별**:
- 🏗️ 아키텍처: 1개 적용 (ISS-001) / 0개 보류
- 📝 품질: 1개 적용 (ISS-002) / 1개 보류 (ISS-003)
- 📄 문서: 0개 적용 / 1개 보류 (ISS-004)

### 11.5 주요 변경 내역

| # | 섹션 | 변경 요약 |
|---|------|----------|
| 1 | 6.2 | 확장성 고려사항 추가 (useNavMenu composable 분리 권장) |
| 2 | 9.5 | ARIA 속성 매핑 표 추가 (nav, 메뉴, 로고) |

### 11.6 개선 효과

- **설계 품질**: 확장성과 접근성 가이드 강화
- **리스크 해소**: 2차 개발 시 메뉴 확장 용이, 스크린 리더 호환성 개선
- **요구사항 커버리지**: 100% 유지
