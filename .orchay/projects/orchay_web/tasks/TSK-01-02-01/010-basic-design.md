# 기본설계: AppLayout 컴포넌트 구현

## 문서 정보

| 항목 | 내용 |
|------|------|
| Task ID | TSK-01-02-01 |
| Category | development |
| 상태 | [bd] 기본설계 |
| 상위 Activity | ACT-01-02 (App Layout) |
| 상위 Work Package | WP-01 (Platform Infrastructure) |
| PRD 참조 | PRD 6.1 (레이아웃 구조) |
| 작성일 | 2025-12-13 |

---

## 1. 개요

### 1.1 목적

orchay 애플리케이션의 전체 레이아웃 구조를 정의하는 AppLayout 컴포넌트를 구현합니다. 이 컴포넌트는 모든 페이지의 기본 틀이 되며, Header와 Content 영역을 분리하고 좌우 분할 패널을 제공합니다.

### 1.2 구현 범위

> WBS Task 설명에서 추출

- 전체 레이아웃 구조 (Header + Content)
- 좌우 분할 패널 (WBS Tree 60% + Detail 40%)
- 반응형 레이아웃 (최소 1200px)

### 1.3 제외 범위

> 동일 PRD 섹션이지만 다른 Task에서 구현

- AppHeader 컴포넌트 상세 구현 → TSK-01-02-02
- WBS Tree Panel 내용 → WP-04
- Task Detail Panel 내용 → WP-05

---

## 2. 사용자 시나리오

### 2.1 주요 사용자

- **프로젝트 매니저**: WBS 트리와 Task 상세 정보를 동시에 조회
- **개발자**: Task 목록 확인 및 상세 정보 편집
- **팀원**: 프로젝트 진행 현황 파악

### 2.2 사용 시나리오

**시나리오 1: WBS 페이지 접속**
1. 사용자가 orchay 앱에 접속
2. 시스템이 AppLayout으로 페이지 렌더링
3. 좌측에 WBS Tree, 우측에 상세 패널 표시

**시나리오 2: 패널 크기 조절 (향후)**
1. 사용자가 패널 구분선을 드래그
2. 좌우 패널 비율이 조정됨
3. 새 비율이 로컬 스토리지에 저장됨

---

## 3. 기능 요구사항

> PRD 6.1에서 범위 내 항목만 추출

### 3.1 레이아웃 구조

**설명**: 애플리케이션의 기본 레이아웃 구조 정의
**입력**: 페이지 컴포넌트 (slot)
**출력**: Header + Content 영역이 분리된 레이아웃
**제약조건**: Header는 고정 높이, Content는 나머지 영역 차지

### 3.2 좌우 분할 패널

**설명**: Content 영역을 좌우로 분할하여 두 개의 패널 제공
**입력**: 좌측 컨텐츠 (WBS Tree), 우측 컨텐츠 (Detail)
**출력**: 60:40 비율의 분할된 패널
**제약조건**:
- 기본 비율 60:40
- 최소 너비 보장 (좌측 400px, 우측 300px)

### 3.3 반응형 레이아웃

**설명**: 다양한 화면 크기에서 적절하게 표시
**입력**: 화면 너비
**출력**: 적응된 레이아웃
**제약조건**:
- 최소 지원 너비: 1200px
- 1200px 미만 시 경고 또는 스크롤

---

## 4. 비즈니스 규칙

> PRD에서 추출한 범위 내 규칙만

| 규칙 ID | 규칙 설명 | 적용 시점 |
|---------|----------|----------|
| BR-001 | Header 높이는 56px로 고정 | 레이아웃 렌더링 시 |
| BR-002 | Content 영역은 화면 높이에서 Header를 제외한 나머지 | 레이아웃 렌더링 시 |
| BR-003 | 좌측 패널은 최소 400px, 우측은 최소 300px | 패널 크기 조절 시 |
| BR-004 | 기본 분할 비율은 60:40 | 초기 렌더링 시 |

---

## 5. 데이터 요구사항 (개념)

> 비즈니스 관점의 데이터 정의

### 5.1 주요 데이터

| 데이터 | 설명 | 비즈니스 의미 |
|--------|------|--------------|
| panelRatio | 좌우 패널 비율 | 사용자 선호 레이아웃 저장 |
| headerHeight | 헤더 높이 | 일관된 UI 제공 |
| minWidth | 최소 지원 너비 | UX 품질 보장 |

### 5.2 데이터 관계

```
AppLayout
├── Header (slot: header)
└── Content
    ├── LeftPanel (slot: left, 60%)
    └── RightPanel (slot: right, 40%)
```

---

## 6. 화면 요구사항 (개념)

> 사용자 관점의 화면 정의

### 6.1 화면 목록

| 화면 | 목적 | 주요 기능 |
|------|------|----------|
| AppLayout | 전체 앱 레이아웃 제공 | 헤더/컨텐츠 분리, 좌우 분할 |

### 6.2 화면 구조

```
┌─────────────────────────────────────────────────────────────────┐
│                        Header (56px)                            │
│ [Logo] [Nav Menu]                           [Project Name]      │
├─────────────────────────────────────┬───────────────────────────┤
│                                     │                           │
│          Left Panel (60%)           │    Right Panel (40%)      │
│                                     │                           │
│       (WBS Tree - slot)             │   (Detail - slot)         │
│                                     │                           │
│                                     │                           │
│                                     │                           │
│                                     │                           │
│                                     │                           │
│                                     │                           │
│                                     │                           │
└─────────────────────────────────────┴───────────────────────────┘
```

### 6.3 레이아웃 사양

| 영역 | 크기 | 배경색 |
|------|------|--------|
| Header | 높이 56px, 너비 100% | `bg-bg-header` (#16213e) |
| Left Panel | 너비 60%, 높이 calc(100vh - 56px) | `bg-bg-sidebar` (#0f0f23) |
| Right Panel | 너비 40%, 높이 calc(100vh - 56px) | `bg-bg` (#1a1a2e) |

---

## 7. 인터페이스 요구사항 (개념)

> 비즈니스 관점의 컴포넌트 인터페이스

| Props | 설명 | 타입 | 기본값 |
|-------|------|------|--------|
| leftWidth | 좌측 패널 비율 | number | 60 |
| minLeftWidth | 좌측 최소 너비 | number | 400 |
| minRightWidth | 우측 최소 너비 | number | 300 |

| Slots | 설명 |
|-------|------|
| header | Header 영역 컨텐츠 |
| left | 좌측 패널 컨텐츠 |
| right | 우측 패널 컨텐츠 |

---

## 8. 수용 기준

> 비즈니스 관점의 완료 조건

- [ ] Header + Content 영역이 정상적으로 분리됨
- [ ] 좌우 패널이 60:40 비율로 분할됨
- [ ] 최소 너비(1200px) 이상에서 정상 표시됨
- [ ] Dark Blue 테마 색상이 적용됨
- [ ] slot을 통해 컨텐츠 삽입 가능

---

## 9. 다음 단계

- `/wf:draft TSK-01-02-01` 명령어로 상세설계 진행

---

## 관련 문서

- PRD: `.orchay/projects/orchay/prd.md` (섹션 6.1)
- 테마 설정: `tailwind.config.ts`, `app/assets/css/main.css`
