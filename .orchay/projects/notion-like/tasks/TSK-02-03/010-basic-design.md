# TSK-02-03 - í˜ì´ì§€ íŠ¸ë¦¬ ì»´í¬ë„ŒíŠ¸ (ì¤‘ì²© êµ¬ì¡°) ì„¤ê³„ ë¬¸ì„œ

## ë¬¸ì„œ ì •ë³´

| í•­ëª© | ë‚´ìš© |
|------|------|
| Task ID | TSK-02-03 |
| ë¬¸ì„œ ë²„ì „ | 1.0 |
| ì‘ì„±ì¼ | 2026-01-02 |
| ìƒíƒœ | ì‘ì„±ì¤‘ |
| ì¹´í…Œê³ ë¦¬ | development |

---

## 1. ê°œìš”

### 1.1 ë°°ê²½ ë° ë¬¸ì œ ì •ì˜

**í˜„ì¬ ìƒí™©:**
- TSK-02-02ì—ì„œ ì‚¬ì´ë“œë°” ì»´í¬ë„ŒíŠ¸ì˜ êµ¬ì¡°ê°€ ì™„ì„±ë˜ì–´ ìˆìŒ
- ì‚¬ì´ë“œë°” ë‚´ PageTreeArea ì˜ì—­ì´ ì¤€ë¹„ë˜ì—ˆì§€ë§Œ ì‹¤ì œ í˜ì´ì§€ íŠ¸ë¦¬ ë Œë”ë§ ë¡œì§ì´ ì—†ìŒ
- ì‚¬ì´ë“œë°”ì— "Favorites", "Private" ë“± ì„¹ì…˜ í—¤ë”ë§Œ í‘œì‹œë¨

**í•´ê²°í•˜ë ¤ëŠ” ë¬¸ì œ:**
- ì‚¬ìš©ìê°€ í˜ì´ì§€ ëª©ë¡ì„ í™•ì¸í•˜ê³  íƒìƒ‰í•  ìˆ˜ ì—†ìŒ
- ì¤‘ì²©ëœ í˜ì´ì§€ êµ¬ì¡°(í•˜ìœ„ í˜ì´ì§€)ë¥¼ í‘œì‹œí•  ë°©ë²•ì´ ì—†ìŒ
- í˜ì´ì§€ í´ë” ì—´ê¸°/ë‹«ê¸° ê¸°ëŠ¥ì´ ì—†ìŒ

### 1.2 ëª©ì  ë° ê¸°ëŒ€ íš¨ê³¼

**ëª©ì :**
- Notion ìŠ¤íƒ€ì¼ì˜ ì¬ê·€ì  í˜ì´ì§€ íŠ¸ë¦¬ ì»´í¬ë„ŒíŠ¸ êµ¬í˜„
- ì¤‘ì²©ëœ í˜ì´ì§€ êµ¬ì¡°ë¥¼ ê³„ì¸µì ìœ¼ë¡œ í‘œì‹œ
- í´ë” í† ê¸€ë¡œ í•˜ìœ„ í˜ì´ì§€ ìˆ¨ê¹€/í‘œì‹œ ê¸°ëŠ¥ ì œê³µ

**ê¸°ëŒ€ íš¨ê³¼:**
- ì‚¬ìš©ìê°€ ì‚¬ì´ë“œë°”ë¥¼ í†µí•´ ëª¨ë“  í˜ì´ì§€ë¥¼ ê³„ì¸µì ìœ¼ë¡œ íƒìƒ‰ ê°€ëŠ¥
- ë¬´í•œ ì¤‘ì²© êµ¬ì¡° ì§€ì›ìœ¼ë¡œ Notionê³¼ ë™ì¼í•œ ì‚¬ìš©ì ê²½í—˜
- TSK-02-04 í˜ì´ì§€ ìƒì„±/ì‚­ì œ ê¸°ëŠ¥ê³¼ ì—°ë™ ê°€ëŠ¥í•œ ê¸°ë°˜ ë§ˆë ¨

### 1.3 ë²”ìœ„

**í¬í•¨:**
- `src/components/layout/PageTree.tsx` ë©”ì¸ ì»´í¬ë„ŒíŠ¸
- `src/components/layout/PageTreeItem.tsx` ê°œë³„ í•­ëª© ì»´í¬ë„ŒíŠ¸
- ì¬ê·€ì  íŠ¸ë¦¬ ë Œë”ë§ ë¡œì§
- depthì— ë”°ë¥¸ ë“¤ì—¬ì“°ê¸° êµ¬í˜„
- í´ë” í† ê¸€ (ì—´ê¸°/ë‹«ê¸°) ìƒíƒœ ê´€ë¦¬
- í˜ì´ì§€ ì•„ì´ì½˜ + ì œëª© í‘œì‹œ

**ì œì™¸:**
- í˜ì´ì§€ í´ë¦­ ì‹œ ë¼ìš°íŒ… (TSK-02-05ì—ì„œ êµ¬í˜„)
- ì»¨í…ìŠ¤íŠ¸ ë©”ë‰´ (ìš°í´ë¦­ ë©”ë‰´ - TSK-02-04ì—ì„œ êµ¬í˜„)
- ë“œë˜ê·¸ ì•¤ ë“œë¡­ (ì„ íƒì  ê¸°ëŠ¥)
- ë°ì´í„° ë¡œë”© (API ì—°ë™ì€ TSK-02-04ì—ì„œ)
- í˜ì´ì§€ ìƒì„±/ì‚­ì œ (TSK-02-04ì—ì„œ êµ¬í˜„)

### 1.4 ì°¸ì¡° ë¬¸ì„œ

| ë¬¸ì„œ | ê²½ë¡œ | ê´€ë ¨ ì„¹ì…˜ |
|------|------|----------|
| PRD | `.orchay/projects/notion-like/prd.md` | 2.3.1 ë¬´í•œ ì¤‘ì²© |
| TRD | `.orchay/projects/notion-like/trd.md` | 3.2 ì‚¬ì´ë“œë°” ì»´í¬ë„ŒíŠ¸ |

---

## 2. ì‚¬ìš©ì ë¶„ì„

### 2.1 ëŒ€ìƒ ì‚¬ìš©ì

| ì‚¬ìš©ì ìœ í˜• | íŠ¹ì„± | ì£¼ìš” ë‹ˆì¦ˆ |
|------------|------|----------|
| ë¬¸ì„œ ì‘ì„±ì | ì—¬ëŸ¬ ê³„ì¸µì˜ í˜ì´ì§€ë¥¼ ê´€ë¦¬ | ê³„ì¸µ êµ¬ì¡°ë¥¼ í•œëˆˆì— íŒŒì•…í•˜ê³  ë¹ ë¥´ê²Œ íƒìƒ‰ |
| ì¡°ì§ ê´€ë¦¬ì | í”„ë¡œì íŠ¸ì˜ ì „ì²´ êµ¬ì¡°ë¥¼ ê´€ë¦¬ | ê³„ì¸µ ê´€ê³„ë¥¼ ëª…í™•íˆ í•˜ê³  íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬ |

### 2.2 ì‚¬ìš©ì í˜ë¥´ì†Œë‚˜

**í˜ë¥´ì†Œë‚˜ 1: ê¹€ê°œë°œ**
- ì—­í• : í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œì
- ëª©í‘œ: í”„ë¡œì íŠ¸ ë‚´ ë‹¤ì–‘í•œ ë¬¸ì„œë¥¼ ê³„ì¸µ êµ¬ì¡°ë¡œ ê´€ë¦¬í•˜ê³  ë¹ ë¥´ê²Œ ì ‘ê·¼
- ë¶ˆë§Œ: í˜ì´ì§€ ëª©ë¡ì´ ì—†ì–´ í•„ìš”í•œ ë¬¸ì„œë¥¼ ì°¾ê¸° ì–´ë ¤ì›€
- ì‹œë‚˜ë¦¬ì˜¤: "Design" í´ë”ë¥¼ í¼ì³ì„œ í•˜ìœ„ ì„¤ê³„ ë¬¸ì„œë“¤ì„ í™•ì¸í•˜ê³  í´ë¦­

---

## 3. ìœ ì¦ˆì¼€ì´ìŠ¤

### 3.1 ìœ ì¦ˆì¼€ì´ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨

```mermaid
flowchart LR
    subgraph í˜ì´ì§€_íŠ¸ë¦¬
        UC01[UC-01: í˜ì´ì§€ ëª©ë¡ í‘œì‹œ]
        UC02[UC-02: í•˜ìœ„ í˜ì´ì§€ í† ê¸€]
        UC03[UC-03: í˜ì´ì§€ í´ë¦­]
    end

    ì‚¬ìš©ì((ì‚¬ìš©ì)) --> UC01
    ì‚¬ìš©ì --> UC02
    ì‚¬ìš©ì --> UC03
```

### 3.2 ìœ ì¦ˆì¼€ì´ìŠ¤ ìƒì„¸

#### UC-01: í˜ì´ì§€ ëª©ë¡ í‘œì‹œ

| í•­ëª© | ë‚´ìš© |
|------|------|
| ì•¡í„° | ë¬¸ì„œ ì‘ì„±ì |
| ëª©ì  | í˜ì´ì§€ íŠ¸ë¦¬ë¥¼ ì‚¬ì´ë“œë°”ì— í‘œì‹œ |
| ì‚¬ì „ ì¡°ê±´ | ì‚¬ì´ë“œë°”ê°€ í‘œì‹œë¨, í˜ì´ì§€ ëª©ë¡ì´ ìŠ¤í† ì–´ì— ìˆìŒ |
| ì‚¬í›„ ì¡°ê±´ | ê³„ì¸µ êµ¬ì¡°ì˜ í˜ì´ì§€ ëª©ë¡ì´ í‘œì‹œë¨ |
| íŠ¸ë¦¬ê±° | í˜ì´ì§€ ë¡œë“œ |

**ê¸°ë³¸ íë¦„:**
1. ì‹œìŠ¤í…œì´ DBì—ì„œ í˜ì´ì§€ ëª©ë¡ì„ ì¡°íšŒí•œë‹¤
2. Zustand ìŠ¤í† ì–´ì—ì„œ í˜ì´ì§€ ëª©ë¡ì„ ë¡œë“œí•œë‹¤
3. PageTree ì»´í¬ë„ŒíŠ¸ê°€ í˜ì´ì§€ ëª©ë¡ì„ ë Œë”ë§í•œë‹¤
4. ê° í˜ì´ì§€ê°€ ì•„ì´ì½˜ + ì œëª© í˜•íƒœë¡œ í‘œì‹œëœë‹¤

#### UC-02: í•˜ìœ„ í˜ì´ì§€ í† ê¸€

| í•­ëª© | ë‚´ìš© |
|------|------|
| ì•¡í„° | ë¬¸ì„œ ì‘ì„±ì |
| ëª©ì  | í´ë” í† ê¸€ ë²„íŠ¼ìœ¼ë¡œ í•˜ìœ„ í˜ì´ì§€ ìˆ¨ê¹€/í‘œì‹œ |
| ì‚¬ì „ ì¡°ê±´ | í˜ì´ì§€ ëª©ë¡ì´ í‘œì‹œë¨, í•˜ìœ„ í˜ì´ì§€ê°€ ìˆìŒ |
| ì‚¬í›„ ì¡°ê±´ | í•˜ìœ„ í˜ì´ì§€ê°€ ìˆ¨ê²¨ì§€ê±°ë‚˜ í‘œì‹œë¨ |
| íŠ¸ë¦¬ê±° | í† ê¸€ ë²„íŠ¼ (ChevronRight ì•„ì´ì½˜) í´ë¦­ |

**ê¸°ë³¸ íë¦„:**
1. ì‚¬ìš©ìê°€ í´ë” í† ê¸€ ë²„íŠ¼ì„ í´ë¦­í•œë‹¤
2. ì‹œìŠ¤í…œì´ expandedFolders ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•œë‹¤
3. í•˜ìœ„ í˜ì´ì§€ê°€ í¼ì³ì§€ê±°ë‚˜ ì ‘íŒë‹¤

**ëŒ€ì•ˆ íë¦„:**
- 2a. í•˜ìœ„ í˜ì´ì§€ê°€ ì—†ëŠ” ê²½ìš°: í† ê¸€ ë²„íŠ¼ì´ í‘œì‹œë˜ì§€ ì•ŠìŒ

#### UC-03: í˜ì´ì§€ í´ë¦­

| í•­ëª© | ë‚´ìš© |
|------|------|
| ì•¡í„° | ë¬¸ì„œ ì‘ì„±ì |
| ëª©ì  | í˜ì´ì§€ë¥¼ ì„ íƒí•˜ì—¬ ì—ë””í„° ë¡œë“œ |
| ì‚¬ì „ ì¡°ê±´ | í˜ì´ì§€ ëª©ë¡ì´ í‘œì‹œë¨ |
| ì‚¬í›„ ì¡°ê±´ | í•´ë‹¹ í˜ì´ì§€ê°€ ì„ íƒë˜ê³  ì—ë””í„°ì— ë¡œë“œë¨ (ë‹¤ìŒ Task) |
| íŠ¸ë¦¬ê±° | í˜ì´ì§€ ì•„ì´í…œ í´ë¦­ |

**ê¸°ë³¸ íë¦„:**
1. ì‚¬ìš©ìê°€ í˜ì´ì§€ í•­ëª©ì„ í´ë¦­í•œë‹¤
2. ì‹œìŠ¤í…œì´ í˜„ì¬ í˜ì´ì§€ IDë¥¼ ì—…ë°ì´íŠ¸í•œë‹¤
3. ë¼ìš°í„°ê°€ í•´ë‹¹ í˜ì´ì§€ë¡œ ì´ë™í•œë‹¤ (TSK-02-05)

---

## 4. ì‚¬ìš©ì ì‹œë‚˜ë¦¬ì˜¤

### 4.1 ì‹œë‚˜ë¦¬ì˜¤ 1: ì¤‘ì²©ëœ í˜ì´ì§€ êµ¬ì¡° íƒìƒ‰

**ìƒí™© ì„¤ëª…:**
ì‚¬ìš©ìê°€ ì—¬ëŸ¬ ê³„ì¸µì˜ í˜ì´ì§€ë¥¼ ê´€ë¦¬í•˜ê³  ìˆìœ¼ë©°, íŠ¹ì • í•˜ìœ„ í˜ì´ì§€ë¥¼ ì°¾ì•„ í´ë¦­í•˜ë ¤ í•œë‹¤.

**ë‹¨ê³„ë³„ ì§„í–‰:**

| ë‹¨ê³„ | ì‚¬ìš©ì í–‰ë™ | ì‹œìŠ¤í…œ ë°˜ì‘ | ì‚¬ìš©ì ê¸°ëŒ€ |
|------|-----------|------------|------------|
| 1 | ì• í”Œë¦¬ì¼€ì´ì…˜ ì ‘ì† | í˜ì´ì§€ íŠ¸ë¦¬ í‘œì‹œ | ìµœìƒìœ„ í˜ì´ì§€ ëª©ë¡ ë³´ì„ |
| 2 | "Projects" í´ë” í˜¸ë²„ | í† ê¸€ ë²„íŠ¼ ê°•ì¡° | í´ë”ì„ì„ ì¸ì‹ |
| 3 | í† ê¸€ ë²„íŠ¼ í´ë¦­ | í•˜ìœ„ í˜ì´ì§€ í¼ì¹¨ | "Design", "Code Review" ë“± ë³´ì„ |
| 4 | "Design" í˜ì´ì§€ í´ë¦­ | ì—ë””í„° ë¡œë“œ | Design í˜ì´ì§€ ì½˜í…ì¸  í‘œì‹œ |

**ì„±ê³µ ì¡°ê±´:**
- íŠ¸ë¦¬ êµ¬ì¡°ê°€ ì •í™•í•˜ê²Œ í‘œì‹œë¨
- ë“¤ì—¬ì“°ê¸° ê³„ì‚°ì´ ì •í™•í•¨ (depth * 12 + 8)
- í† ê¸€ì´ ë¶€ë“œëŸ½ê²Œ ì‘ë™í•¨

### 4.2 ì‹œë‚˜ë¦¬ì˜¤ 2: ê¹Šì€ ì¤‘ì²© êµ¬ì¡° ì²˜ë¦¬

**ìƒí™© ì„¤ëª…:**
3ë‹¨ê³„ ì´ìƒ ê¹Šì´ ìˆëŠ” í˜ì´ì§€ êµ¬ì¡°ë„ ì •ìƒ ì²˜ë¦¬ë˜ëŠ”ì§€ í™•ì¸

**ë‹¨ê³„ë³„ ì§„í–‰:**

| ë‹¨ê³„ | ì‚¬ìš©ì í–‰ë™ | ì‹œìŠ¤í…œ ë°˜ì‘ | ì‚¬ìš©ì ê¸°ëŒ€ |
|------|-----------|------------|------------|
| 1 | "WP-01" í´ë” í™•ì¥ | í•˜ìœ„ í˜ì´ì§€ í‘œì‹œ | Tasks ëª©ë¡ ë³´ì„ |
| 2 | "Task 1" í´ë” í™•ì¥ | ì¶”ê°€ ë“¤ì—¬ì“°ê¸° ì ìš© | Subtasks ë³´ì„ |
| 3 | ìµœí•˜ìœ„ í˜ì´ì§€ í´ë¦­ | ì˜¬ë°”ë¥¸ í˜ì´ì§€ ì„ íƒ | í˜ì´ì§€ ì´ë™ |

---

## 5. í™”ë©´ ì„¤ê³„

### 5.1 í™”ë©´ íë¦„ë„

```mermaid
flowchart TB
    A["PageTree ë Œë”ë§"] --> B["í˜ì´ì§€ ëª©ë¡ ìˆœíšŒ"]
    B --> C["PageTreeItem ë Œë”ë§"]
    C --> D{í•˜ìœ„ í˜ì´ì§€ ìˆìŒ?}
    D -->|Yes| E["í† ê¸€ ë²„íŠ¼ í‘œì‹œ"]
    D -->|No| F["í† ê¸€ ë²„íŠ¼ ìˆ¨ê¹€"]
    E --> G["expandedFoldersì— ìˆìŒ?"]
    G -->|Yes| H["ì¬ê·€ì ìœ¼ë¡œ PageTree ë Œë”ë§"]
    G -->|No| I["ë“¤ì—¬ì“°ê¸°ë§Œ ì ìš©"]
```

### 5.2 í™”ë©´ë³„ ìƒì„¸

#### Sidebar - PageTree ì˜ì—­

**í™”ë©´ ëª©ì :**
í˜ì´ì§€ì˜ ê³„ì¸µ êµ¬ì¡°ë¥¼ ì‹œê°ì ìœ¼ë¡œ í‘œì‹œí•˜ê³  íƒìƒ‰

**ì§„ì… ê²½ë¡œ:**
- ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œë“œ â†’ Sidebar â†’ PageTreeArea

**ì™€ì´ì–´í”„ë ˆì„:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Favorites                    â”‚  â† ì„¹ì…˜ í—¤ë”
â”‚  â”œâ”€ ğŸ“„ My Dashboard          â”‚  â† depth 1
â”‚  â”‚  â”œâ”€ ğŸ“Š Q1 Analytics       â”‚  â† depth 2
â”‚  â”‚  â””â”€ ğŸ“ˆ Monthly Report     â”‚  â† depth 2
â”‚  â””â”€ ğŸ¯ Goals                 â”‚  â† depth 1
â”‚                              â”‚
â”‚ Private                      â”‚  â† ì„¹ì…˜ í—¤ë”
â”‚  â”œâ”€ ğŸ“ Projects (â–¶ í¼ì¹¨ ì „) â”‚  â† depth 1
â”‚  â””â”€ ğŸ“ Archive (â–¼ í¼ì¹¨ ìƒíƒœ)â”‚  â† depth 1
â”‚     â”œâ”€ ğŸ“„ Old Docs           â”‚  â† depth 2
â”‚     â””â”€ ğŸ“„ Deprecated         â”‚  â† depth 2
â”‚                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**í™”ë©´ ìš”ì†Œ ì„¤ëª…:**

| ìš”ì†Œ | ì„¤ëª… | ìƒí˜¸ì‘ìš© |
|------|------|----------|
| í† ê¸€ ë²„íŠ¼ (â–¶/â–¼) | í•˜ìœ„ í˜ì´ì§€ í¼ì¹¨/ì ‘ìŒ | í´ë¦­ ì‹œ ìƒíƒœ í† ê¸€ |
| ì•„ì´ì½˜ | í˜ì´ì§€ íƒ€ì… (ğŸ“„: í˜ì´ì§€, ğŸ“: í´ë”) | í´ë¦­ ì‹œ í˜ì´ì§€ ì´ë™ (í–¥í›„) |
| í˜ì´ì§€ ì œëª© | í˜ì´ì§€ ì´ë¦„ | í´ë¦­ ì‹œ í˜ì´ì§€ ì´ë™ (í–¥í›„) |
| ë“¤ì—¬ì“°ê¸° | depth * 12 + 8 px | ê³„ì¸µ êµ¬ì¡° ì‹œê°í™” |

### 5.3 ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°

```
PageTree.tsx (ë©”ì¸ ì»´í¬ë„ŒíŠ¸)
â”œâ”€â”€ pages: Page[] (Props)
â”œâ”€â”€ expandedFolders: Set<string> (ìƒíƒœ)
â”œâ”€â”€ onToggleFolder: (pageId: string) => void (ì½œë°±)
â””â”€â”€ renderPageTreeItems()
    â””â”€â”€ PageTreeItem.tsx (ê°œë³„ í•­ëª©)
        â”œâ”€â”€ page: Page (Props)
        â”œâ”€â”€ depth: number (Props)
        â”œâ”€â”€ isExpanded: boolean (Props)
        â”œâ”€â”€ onToggle: () => void (ì½œë°±)
        â”œâ”€â”€ onNavigate: () => void (ì½œë°±)
        â”œâ”€â”€ í† ê¸€ ë²„íŠ¼ (hasChildrenì´ trueì¼ ë•Œë§Œ)
        â”œâ”€â”€ í˜ì´ì§€ ì•„ì´ì½˜
        â”œâ”€â”€ í˜ì´ì§€ ì œëª©
        â””â”€â”€ {isExpanded && <PageTree depth={depth+1} />} (ì¬ê·€)
```

### 5.4 ìŠ¤íƒ€ì¼ ëª…ì„¸ (TRD ê¸°ì¤€)

| ìš”ì†Œ | Tailwind í´ë˜ìŠ¤ | ì„¤ëª… |
|------|----------------|------|
| PageTree ì»¨í…Œì´ë„ˆ | `flex flex-col gap-0.5 px-2 py-1` | í˜ì´ì§€ ëª©ë¡ ì»¨í…Œì´ë„ˆ |
| PageTreeItem | `flex items-center gap-1 px-3 py-1.5 rounded-[4px] hover:bg-[#EFEFEF] cursor-pointer transition-colors` | ê°œë³„ í˜ì´ì§€ í•­ëª© |
| ë“¤ì—¬ì“°ê¸° | `ml-[calc(var(--depth)*12px+8px)]` | depth ê¸°ë°˜ ë™ì  ë“¤ì—¬ì“°ê¸° |
| í† ê¸€ ë²„íŠ¼ | `w-4 h-4 flex items-center justify-center mr-0.5` | í† ê¸€ ë²„íŠ¼ ì˜ì—­ |
| í† ê¸€ ì•„ì´ì½˜ (ë‹«í˜) | `<ChevronRight size={16} className="text-[#B4B4B3]" />` | ë‹«íŒ ìƒíƒœ |
| í† ê¸€ ì•„ì´ì½˜ (í¼ì¹¨) | `<ChevronDown size={16} className="text-[#B4B4B3]" />` | í¼ì³ì§„ ìƒíƒœ |
| í˜ì´ì§€ ì•„ì´ì½˜ | `text-[18px] leading-none` | í˜ì´ì§€ ì´ëª¨ì§€ ì•„ì´ì½˜ |
| í˜ì´ì§€ ì œëª© | `text-[14px] text-[#37352F] font-[400]` | í˜ì´ì§€ ì´ë¦„ í…ìŠ¤íŠ¸ |

---

## 6. ì¸í„°ë™ì…˜ ì„¤ê³„

### 6.1 ì‚¬ìš©ì ì•¡ì…˜ê³¼ í”¼ë“œë°±

| ì‚¬ìš©ì ì•¡ì…˜ | ì¦‰ê° í”¼ë“œë°± | ê²°ê³¼ í”¼ë“œë°± |
|------------|-----------|------------|
| í† ê¸€ ë²„íŠ¼ í˜¸ë²„ | ì•„ì´ì½˜ ìƒ‰ìƒ ë³€ê²½ | - |
| í† ê¸€ ë²„íŠ¼ í´ë¦­ | ì•„ì´ì½˜ íšŒì „ (â–¶â†’â–¼) | í•˜ìœ„ í˜ì´ì§€ í¼ì¹¨/ì ‘í˜ ì• ë‹ˆë©”ì´ì…˜ |
| í˜ì´ì§€ í•­ëª© í˜¸ë²„ | `bg-[#EFEFEF]` ë°°ê²½ | - |
| í˜ì´ì§€ í•­ëª© í´ë¦­ | ì„ íƒ ìƒíƒœ ê°•ì¡° | ì—ë””í„° ì˜ì—­ì— í˜ì´ì§€ ë¡œë“œ (TSK-02-05) |

### 6.2 ìƒíƒœë³„ í™”ë©´ ë³€í™”

| ìƒíƒœ | í™”ë©´ í‘œì‹œ |
|------|----------|
| expandedFoldersì— í¬í•¨ | ChevronDown ì•„ì´ì½˜, í•˜ìœ„ í•­ëª© í‘œì‹œ |
| expandedFoldersì— ë¯¸í¬í•¨ | ChevronRight ì•„ì´ì½˜, í•˜ìœ„ í•­ëª© ìˆ¨ê¹€ |
| í•˜ìœ„ í˜ì´ì§€ ì—†ìŒ | í† ê¸€ ë²„íŠ¼ ë¯¸í‘œì‹œ |

### 6.3 ì• ë‹ˆë©”ì´ì…˜

```css
/* í† ê¸€ ì• ë‹ˆë©”ì´ì…˜ */
.toggle-icon {
  transition: transform 0.15s ease-in-out;
}

.toggle-icon.expanded {
  transform: rotate(90deg);
}

/* í˜¸ë²„ íš¨ê³¼ */
.page-tree-item {
  transition: background-color 20ms ease-in;
}
```

---

## 7. ë°ì´í„° êµ¬ì¡°

### 7.1 Page ëª¨ë¸

```typescript
interface Page {
  id: string;              // í˜ì´ì§€ ê³ ìœ  ID
  title: string;           // í˜ì´ì§€ ì œëª©
  icon: string;            // ì´ëª¨ì§€ ì•„ì´ì½˜
  parentId?: string;       // ìƒìœ„ í˜ì´ì§€ ID (undefined: ë£¨íŠ¸)
  children?: Page[];       // í•˜ìœ„ í˜ì´ì§€ ë°°ì—´ (ì„ íƒì )
  createdAt: string;       // ìƒì„± ì¼ì
  updatedAt: string;       // ìˆ˜ì • ì¼ì
}
```

### 7.2 ìƒíƒœ ê´€ë¦¬

```typescript
// Zustand ìŠ¤í† ì–´
interface AppState {
  // ê¸°ì¡´ ìƒíƒœ
  pages: Page[];
  currentPageId: string | null;

  // í˜ì´ì§€ íŠ¸ë¦¬ ìƒíƒœ (ì´ë²ˆ Taskì—ì„œ ì¶”ê°€)
  expandedFolders: Set<string>;  // í¼ì³ì§„ í´ë”ì˜ ID ëª©ë¡

  // ë©”ì„œë“œ
  toggleFolder: (folderId: string) => void;
  navigateToPage: (pageId: string) => void;
}
```

### 7.3 í•„ìš”í•œ ë°ì´í„°

| ë°ì´í„° | ì¶œì²˜ | ìš©ë„ |
|--------|------|------|
| pages | Zustand ìŠ¤í† ì–´ (API ì¡°íšŒ) | í˜ì´ì§€ íŠ¸ë¦¬ ë Œë”ë§ |
| expandedFolders | Zustand ìŠ¤í† ì–´ | í† ê¸€ ìƒíƒœ ìœ ì§€ |
| currentPageId | Zustand ìŠ¤í† ì–´ | í˜„ì¬ ì„ íƒ í˜ì´ì§€ ê°•ì¡° |

---

## 8. ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™

### 8.1 í•µì‹¬ ê·œì¹™

| ê·œì¹™ ID | ê·œì¹™ ì„¤ëª… | ì ìš© ìƒí™© | ì˜ˆì™¸ |
|---------|----------|----------|------|
| BR-01 | ë“¤ì—¬ì“°ê¸° = depth * 12 + 8 px | ëª¨ë“  í˜ì´ì§€ í•­ëª© | ì—†ìŒ |
| BR-02 | í•˜ìœ„ í˜ì´ì§€ê°€ ì—†ìœ¼ë©´ í† ê¸€ ë²„íŠ¼ ë¯¸í‘œì‹œ | ë¦¬í”„ ë…¸ë“œ | ì—†ìŒ |
| BR-03 | í˜ì´ì§€ í´ë¦­ ì‹œ navigateToPage í˜¸ì¶œ | ëª¨ë“  í´ë¦­ | í† ê¸€ ë²„íŠ¼ í´ë¦­ ì œì™¸ |
| BR-04 | expandedFoldersëŠ” ì„¸ì…˜ ë™ì•ˆ ìœ ì§€ | ëª¨ë“  í† ê¸€ | ìƒˆë¡œê³ ì¹¨ ì‹œ ì´ˆê¸°í™” ê°€ëŠ¥ |
| BR-05 | ìµœëŒ€ ê¹Šì´ ì œí•œ ì—†ìŒ (ë¬´í•œ ì¤‘ì²© ì§€ì›) | ëª¨ë“  ê¹Šì´ | ì—†ìŒ |

---

## 9. ì—ëŸ¬ ì²˜ë¦¬

### 9.1 ì˜ˆìƒ ì—ëŸ¬ ìƒí™©

| ìƒí™© | ì›ì¸ | ì²˜ë¦¬ ë°©ë²• |
|------|------|----------|
| ë¹ˆ í˜ì´ì§€ ëª©ë¡ | ë°ì´í„° ì—†ìŒ | ë¹ˆ íŠ¸ë¦¬ í‘œì‹œ, ì•ˆë‚´ ë©”ì‹œì§€ (ì„ íƒ) |
| ìˆœí™˜ ì°¸ì¡° | ì˜ëª»ëœ ë°ì´í„° êµ¬ì¡° | ë¬´í•œ ë£¨í”„ ë°©ì§€ ë¡œì§ ì¶”ê°€ (ì„ íƒ) |

---

## 10. êµ¬í˜„ ë²”ìœ„

### 10.1 ìƒì„±í•  íŒŒì¼

| íŒŒì¼ | ëª©ì  | ë¼ì¸ ìˆ˜ (ì˜ˆìƒ) |
|------|------|--------------|
| `src/components/layout/PageTree.tsx` | í˜ì´ì§€ íŠ¸ë¦¬ ë©”ì¸ ì»´í¬ë„ŒíŠ¸ | 60-80 |
| `src/components/layout/PageTreeItem.tsx` | ê°œë³„ í˜ì´ì§€ í•­ëª© ì»´í¬ë„ŒíŠ¸ | 40-60 |

### 10.2 ì˜ì¡´ì„±

| ì˜ì¡´ í•­ëª© | ì´ìœ  | ìƒíƒœ |
|----------|------|------|
| TSK-02-02 | Sidebar ì»´í¬ë„ŒíŠ¸ ì™„ë£Œ í•„ìš” | ì§„í–‰ì¤‘ |
| lucide-react | ì•„ì´ì½˜ (ChevronRight, ChevronDown) | ì„¤ì¹˜ë¨ |
| Zustand | í˜ì´ì§€ íŠ¸ë¦¬ ìƒíƒœ ê´€ë¦¬ | ì„¤ì¹˜ë¨ (TSK-00-05) |

### 10.3 ì œì•½ ì‚¬í•­

| ì œì•½ | ì„¤ëª… | ëŒ€ì‘ ë°©ì•ˆ |
|------|------|----------|
| API ë¯¸ì—°ë™ | ì´ë²ˆ Taskì—ì„œëŠ” ëª© ë°ì´í„° ì‚¬ìš© | TSK-02-04ì—ì„œ API ì—°ë™ |
| í˜ì´ì§€ í´ë¦­ ê¸°ëŠ¥ | ë¼ìš°íŒ…ì€ TSK-02-05ì—ì„œ êµ¬í˜„ | ì´ë²ˆ Taskì—ì„œëŠ” ì½˜ì†” ë¡œê·¸ë§Œ |
| ë“œë˜ê·¸ ì•¤ ë“œë¡­ | ì„ íƒì  ê¸°ëŠ¥ | MVPì—ì„œëŠ” ì œì™¸ |

---

## 11. ìƒì„¸ ì„¤ê³„

### 11.1 PageTreeItem ì»´í¬ë„ŒíŠ¸ (ê°œë³„ í•­ëª©)

```typescript
interface PageTreeItemProps {
  page: Page;
  depth: number;
  isExpanded: boolean;
  onToggleExpand: () => void;
  onSelect: (pageId: string) => void;
}

export function PageTreeItem({
  page,
  depth,
  isExpanded,
  onToggleExpand,
  onSelect,
}: PageTreeItemProps) {
  const hasChildren = page.children && page.children.length > 0;

  return (
    <div>
      {/* í˜ì´ì§€ í•­ëª© */}
      <div
        className="flex items-center gap-1 px-3 py-1.5 rounded-[4px] hover:bg-[#EFEFEF] cursor-pointer transition-colors"
        style={{ marginLeft: `${depth * 12 + 8}px` }}
        onClick={() => onSelect(page.id)}
      >
        {/* í† ê¸€ ë²„íŠ¼ */}
        {hasChildren ? (
          <button
            onClick={(e) => {
              e.stopPropagation();
              onToggleExpand();
            }}
            className="w-4 h-4 flex items-center justify-center"
          >
            {isExpanded ? (
              <ChevronDown size={16} className="text-[#B4B4B3]" />
            ) : (
              <ChevronRight size={16} className="text-[#B4B4B3]" />
            )}
          </button>
        ) : (
          <div className="w-4" /> {/* í”Œë ˆì´ìŠ¤í™€ë” */}
        )}

        {/* í˜ì´ì§€ ì•„ì´ì½˜ */}
        <span className="text-[18px] leading-none">{page.icon}</span>

        {/* í˜ì´ì§€ ì œëª© */}
        <span className="text-[14px] text-[#37352F] font-[400]">
          {page.title}
        </span>
      </div>

      {/* í•˜ìœ„ í˜ì´ì§€ */}
      {hasChildren && isExpanded && (
        <PageTree pages={page.children} depth={depth + 1} />
      )}
    </div>
  );
}
```

### 11.2 PageTree ì»´í¬ë„ŒíŠ¸ (ë©”ì¸)

```typescript
interface PageTreeProps {
  pages: Page[];
  depth?: number;
}

export function PageTree({ pages, depth = 0 }: PageTreeProps) {
  const store = useAppStore();
  const { expandedFolders, toggleFolder } = store;

  return (
    <div className="flex flex-col gap-0">
      {pages.map((page) => (
        <PageTreeItem
          key={page.id}
          page={page}
          depth={depth}
          isExpanded={expandedFolders.has(page.id)}
          onToggleExpand={() => toggleFolder(page.id)}
          onSelect={(pageId) => {
            console.log(`Navigate to page: ${pageId}`);
            store.setCurrentPageId(pageId);
          }}
        />
      ))}
    </div>
  );
}
```

### 11.3 Zustand ìŠ¤í† ì–´ (í™•ì¥)

```typescript
// src/lib/store.tsì— ì¶”ê°€
interface AppState {
  // ... ê¸°ì¡´ ìƒíƒœ

  // í˜ì´ì§€ íŠ¸ë¦¬ ìƒíƒœ (ìƒˆë¡œ ì¶”ê°€)
  expandedFolders: Set<string>;

  // ë©”ì„œë“œ (ìƒˆë¡œ ì¶”ê°€)
  toggleFolder: (folderId: string) => void;
}

export const useAppStore = create<AppState>((set) => ({
  // ... ê¸°ì¡´ ìƒíƒœ ë° ë©”ì„œë“œ

  expandedFolders: new Set<string>(),

  toggleFolder: (folderId: string) =>
    set((state) => {
      const newExpanded = new Set(state.expandedFolders);
      if (newExpanded.has(folderId)) {
        newExpanded.delete(folderId);
      } else {
        newExpanded.add(folderId);
      }
      return { expandedFolders: newExpanded };
    }),
}));
```

---

## 12. í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤

### 12.1 ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ (ì˜ˆìƒ)

| í…ŒìŠ¤íŠ¸ | ì…ë ¥ | ê¸°ëŒ€ ê²°ê³¼ |
|--------|------|----------|
| PageTree ë Œë”ë§ | pages ë°°ì—´ | ê° í˜ì´ì§€ê°€ ì˜¬ë°”ë¥¸ depthë¡œ ë Œë”ë§ë¨ |
| í† ê¸€ ê¸°ëŠ¥ | expandedFolders ë³€ê²½ | í•˜ìœ„ í˜ì´ì§€ í‘œì‹œ/ìˆ¨ê¹€ |
| ê¹Šì´ ê³„ì‚° | depth = 2 | marginLeft = 32px |

### 12.2 E2E í…ŒìŠ¤íŠ¸ (ì˜ˆìƒ)

| ì‹œë‚˜ë¦¬ì˜¤ | ë‹¨ê³„ | ê²€ì¦ |
|----------|------|------|
| íŠ¸ë¦¬ íƒìƒ‰ | í´ë” í™•ì¥ â†’ í˜ì´ì§€ í´ë¦­ | ì˜¬ë°”ë¥¸ í˜ì´ì§€ ì„ íƒë¨ |
| ê¹Šì€ ì¤‘ì²© | 3ë‹¨ê³„ í˜ì´ì§€ í† ê¸€ | ëª¨ë“  ë ˆë²¨ì—ì„œ í† ê¸€ ì‘ë™ |

---

## 13. ì²´í¬ë¦¬ìŠ¤íŠ¸

### 13.1 ì„¤ê³„ ì™„ë£Œ í™•ì¸

- [x] ë¬¸ì œ ì •ì˜ ë° ëª©ì  ëª…í™•í™”
- [x] ì‚¬ìš©ì ë¶„ì„ ì™„ë£Œ
- [x] ìœ ì¦ˆì¼€ì´ìŠ¤ ì •ì˜ ì™„ë£Œ
- [x] ì‚¬ìš©ì ì‹œë‚˜ë¦¬ì˜¤ ì‘ì„± ì™„ë£Œ
- [x] í™”ë©´ ì„¤ê³„ ì™„ë£Œ (ì™€ì´ì–´í”„ë ˆì„)
- [x] ì¸í„°ë™ì…˜ ì„¤ê³„ ì™„ë£Œ
- [x] ë°ì´í„° ìš”êµ¬ì‚¬í•­ ì •ì˜ ì™„ë£Œ
- [x] ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ ì •ì˜ ì™„ë£Œ
- [x] ìƒì„¸ ì„¤ê³„ ì½”ë“œ ì‘ì„±

### 13.2 êµ¬í˜„ ì¤€ë¹„

- [x] êµ¬í˜„ ìš°ì„ ìˆœìœ„ ê²°ì •
- [x] ì˜ì¡´ì„± í™•ì¸ ì™„ë£Œ
- [x] ì œì•½ ì‚¬í•­ ê²€í†  ì™„ë£Œ

---

## ë³€ê²½ ì´ë ¥

| ë²„ì „ | ì¼ì | ì‘ì„±ì | ë³€ê²½ ë‚´ìš© |
|------|------|--------|----------|
| 1.0 | 2026-01-02 | Claude | ìµœì´ˆ ì‘ì„± |

