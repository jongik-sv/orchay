# TSK-03-04 설계 리뷰 결과

## 리뷰 정보

| 항목 | 내용 |
|------|------|
| Task ID | TSK-03-04 |
| 리뷰어 | claude-1 |
| 리뷰 일자 | 2026-01-02 |
| 대상 문서 | 010-design.md |

---

## 1. 검증 대상 문서

| 문서 | 상태 | 비고 |
|------|------|------|
| 010-design.md | ✅ 존재 | 고객 화면 통합 검증 설계 |
| 025-traceability-matrix.md | ⚠️ 미존재 | test 도메인이므로 설계 문서 내 검증 시나리오로 대체 |
| 026-test-specification.md | ⚠️ 미존재 | 설계 문서 섹션 5에 테스트 케이스 포함됨 |

> **참고**: TSK-03-04는 `test` 도메인의 검증 설계 Task로, 별도의 추적성 매트릭스/테스트 명세서 대신 설계 문서 내 검증 시나리오와 테스트 케이스로 요구사항을 충족합니다.

---

## 2. 검증 영역별 평가

| 검증 영역 | 평가 | 비고 |
|----------|------|------|
| 문서 완전성 | ✅ PASS | 필수 섹션 모두 포함, 구조 명확 |
| 요구사항 추적성 | ✅ PASS | PRD C-001~C-031 명시적 매핑 |
| 검증 시나리오 | ✅ PASS | 4개 시나리오, 단계별 상세 정의 |
| 테스트 케이스 | ⚠️ WARN | TC 커버리지 양호, 일부 보완 권장 |
| UI/UX 검증 | ✅ PASS | 글래스모피즘 체크리스트 포함 |
| 의존성 분석 | ✅ PASS | 선행 Task 및 API 의존성 명확 |

---

## 3. 이슈 목록

### 3.1 High Priority (P2)

#### ISSUE-001: 테스트 케이스 간 의존성 명시 부족

| 항목 | 내용 |
|------|------|
| 심각도 | Medium |
| 우선순위 | P2 |
| 위치 | 섹션 5.1 기능 테스트 |
| 문제 | TC-01 ~ TC-13이 독립적으로 정의되어 있으나, TC-10(주문 전송)은 TC-05~TC-09(장바구니 조작)의 선행 완료가 필요하고, TC-11~TC-12는 TC-10 완료가 필요함. 실행 순서가 명시되지 않아 테스트 실행 시 혼란 가능 |
| 권장 조치 | 테스트 케이스에 "선행조건" 열에 선행 TC-ID를 명시하거나, 시나리오 기반으로 그룹화 |

**수정 예시:**
```markdown
| TC-ID | 테스트 항목 | 선행조건 | 선행 TC | 테스트 단계 | 예상 결과 |
|-------|-----------|---------|--------|------------|----------|
| TC-10 | 주문 전송 | 장바구니에 메뉴 존재 | TC-05 | 주문하기 클릭 | 주문 성공, /status 이동 |
```

---

### 3.2 Medium Priority (P3)

#### ISSUE-002: WebSocket 재연결 테스트 케이스 누락

| 항목 | 내용 |
|------|------|
| 심각도 | Low |
| 우선순위 | P3 |
| 위치 | 섹션 5.1 기능 테스트 |
| 문제 | 섹션 3.4 에러 상황 처리에서 "WebSocket 연결 끊김 → 재연결 시도"가 언급되었으나, 이에 대한 구체적인 테스트 케이스(TC-ID)가 정의되지 않음 |
| 권장 조치 | WebSocket 재연결 검증을 위한 테스트 케이스 추가 |

**권장 추가 TC:**
```markdown
| TC-ID | 테스트 항목 | 선행조건 | 테스트 단계 | 예상 결과 |
|-------|-----------|---------|------------|----------|
| TC-14 | WebSocket 재연결 | /status 페이지, 연결 상태 | 네트워크 일시 차단 후 복구 | 5초 이내 재연결, 최신 상태 동기화 |
```

---

#### ISSUE-003: 수용 기준 체크박스 자동화 연계 부재

| 항목 | 내용 |
|------|------|
| 심각도 | Low |
| 우선순위 | P3 |
| 위치 | 섹션 6 수용 기준 |
| 문제 | 수용 기준이 체크박스 형태로 정의되어 있으나, 각 기준이 어떤 TC-ID와 연결되는지 매핑이 없어 검증 완료 판단이 수동적임 |
| 권장 조치 | 수용 기준과 TC-ID 간 매핑 테이블 추가 |

**권장 추가:**
```markdown
### 6.3 수용 기준 ↔ 테스트 매핑

| 수용 기준 | 검증 TC |
|----------|---------|
| /order 테이블 번호 표시 | TC-01 |
| 카테고리별 메뉴 목록 표시 | TC-02, TC-03 |
| 품절 메뉴 비활성화 | TC-04 |
| ... | ... |
```

---

### 3.3 Low Priority (P4)

#### ISSUE-004: 상태별 색상 코드 불일치

| 항목 | 내용 |
|------|------|
| 심각도 | Info |
| 우선순위 | P4 |
| 위치 | 섹션 3.3 시나리오 3, 섹션 4.1 글래스모피즘 체크리스트 |
| 문제 | 시나리오 3에서 상태별 색상을 "pending: gray, cooking: warning, completed: success"로 정의했으나, 섹션 4.1에서는 "success/warning/gray"만 언급. 구체적인 Tailwind 클래스나 HEX 값이 누락됨 |
| 권장 조치 | TSK-03-03의 StatusBadge 정의와 일치하도록 구체적인 색상 클래스 명시 |

**참조 (TSK-03-03):**
```
pending: bg-gray-100 text-gray-700
cooking: bg-amber-100 text-amber-700
completed: bg-green-100 text-green-700
```

---

#### ISSUE-005: 검증 제약 사항 대응 미흡

| 항목 | 내용 |
|------|------|
| 심각도 | Info |
| 우선순위 | P4 |
| 위치 | 섹션 7.2 제약 사항 |
| 문제 | "주방 화면 미완성 → API 직접 호출로 상태 변경"이라고 언급했으나, 어떤 API 엔드포인트를 어떻게 호출할지 구체적인 테스트 방법이 없음 |
| 권장 조치 | 테스트 실행 가이드 또는 Mock 데이터 활용 방안 추가 |

**권장 추가:**
```markdown
### 검증 환경 설정

상태 변경 테스트 시:
- PATCH /api/orders/{orderId}/status (body: { status: 'cooking' | 'completed' })
- curl 또는 Postman으로 수동 호출
```

---

### 3.4 Info (P5)

#### ISSUE-006: 테스트 우선순위 구분 없음

| 항목 | 내용 |
|------|------|
| 심각도 | Info |
| 우선순위 | P5 |
| 위치 | 섹션 5 테스트 케이스 |
| 문제 | 13개 기능 테스트 + 5개 UI 테스트가 동일한 우선순위로 나열됨. 시간 제약 시 어떤 TC를 먼저 실행해야 하는지 판단 어려움 |
| 권장 조치 | 필수(Must)/권장(Should)/선택(Could) 또는 Priority 열 추가 |

---

## 4. 이슈 분포 요약

| 우선순위 | 건수 | 설명 |
|----------|------|------|
| P1 (Critical) | 0 | - |
| P2 (High) | 1 | 테스트 케이스 의존성 명시 |
| P3 (Medium) | 2 | WebSocket TC 누락, 수용 기준 매핑 |
| P4 (Low) | 2 | 색상 불일치, 제약 대응 |
| P5 (Info) | 1 | 테스트 우선순위 |
| **총계** | **6건** | |

---

## 5. 긍정적 사항

1. **요구사항 추적성 우수**: PRD C-001 ~ C-031을 시나리오와 테스트 케이스에 명시적으로 매핑
2. **검증 시나리오 상세**: 4개 시나리오가 단계별로 상세히 정의되어 실행 가능성 높음
3. **UI/UX 체크리스트 완비**: 글래스모피즘 디자인 요소와 반응형 동작이 구체적으로 정의됨
4. **에러 상황 고려**: 파라미터 누락, API 실패, WebSocket 끊김 등 예외 케이스 명시
5. **선행 Task 의존성 명확**: TSK-03-01, 02, 03 및 TSK-02-02 의존성이 명확히 정리됨

---

## 6. 권장 조치 요약

| 순서 | 조치 항목 | 우선순위 | 소요 시간 |
|------|----------|----------|----------|
| 1 | TC 선행조건에 선행 TC-ID 추가 | P2 | 10분 |
| 2 | WebSocket 재연결 테스트 케이스 추가 | P3 | 5분 |
| 3 | 수용 기준 ↔ TC 매핑 테이블 추가 | P3 | 10분 |
| 4 | 상태별 색상 Tailwind 클래스 명시 | P4 | 5분 |
| 5 | 검증 환경 설정 섹션 추가 | P4 | 5분 |

---

## 7. 결론

**리뷰 결과: PASS (조건부)**

TSK-03-04 설계 문서는 고객 화면 통합 검증의 목적과 범위가 명확하며, PRD 요구사항에 대한 추적성이 우수합니다. 테스트 케이스와 검증 시나리오가 충분히 정의되어 있어 구현 단계에서 바로 검증 작업을 수행할 수 있습니다.

**다음 단계:**
- P2/P3 이슈 반영 후 `/wf:build` 진행 가능
- 또는 이슈 미반영 시에도 `/wf:build` 진행 가능 (선택적 개선)

---

## 변경 이력

| 버전 | 일자 | 작성자 | 변경 내용 |
|------|------|--------|----------|
| 1.0 | 2026-01-02 | claude-1 | 최초 작성 |
