# 요구사항 추적성 매트릭스 (025-traceability-matrix.md)

**Template Version:** 1.0.0 — **Last Updated:** 2026-01-02

> **목적**: PRD → 기본설계 → 상세설계 → 테스트 4단계 양방향 추적
>
> **참조**: 이 문서는 `010-design.md`와 `026-test-specification.md`와 함께 사용됩니다.

---

## 0. 문서 메타데이터

| 항목 | 내용 |
|------|------|
| Task ID | TSK-04-03 |
| Task명 | WP-04 통합 확인: 주방 화면 검증 |
| 설계 문서 참조 | `010-design.md` |
| 테스트 명세 참조 | `026-test-specification.md` |
| 작성일 | 2026-01-02 |
| 작성자 | Claude |

---

## 1. 기능 요구사항 추적 (FR → 설계 → 테스트)

> PRD → 기본설계 → 상세설계 → 테스트케이스 매핑

| 요구사항 ID | PRD 섹션 | TSK-04-01 | TSK-04-02 | E2E 테스트 | 매뉴얼 TC | 상태 |
|-------------|----------|-----------|-----------|------------|-----------|------|
| K-001 | 3.2 주방화면 | UC-02, 섹션5 | - | E2E-001 | TC-001 | 설계완료 |
| K-002 | 3.2 주방화면 | UC-03, 섹션6 | - | E2E-002 | TC-002 | 설계완료 |
| K-003 | 3.2 주방화면 | UC-01, 섹션5 | - | E2E-003 | TC-003 | 설계완료 |
| K-010 | 3.2 주방화면 | - | UC-01, 섹션5 | E2E-004 | TC-004 | 설계완료 |
| K-011 | 3.2 주방화면 | - | UC-02, 섹션5 | E2E-005 | TC-005 | 설계완료 |
| K-012 | 3.2 주방화면 | - | UC-03, 섹션5 | E2E-006 | TC-006 | 설계완료 |

### 1.1 요구사항별 상세 매핑

#### K-001: 실시간 주문 표시

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 3.2 | 새 주문 즉시 화면에 추가 |
| TSK-04-01 설계 | 010-design.md | UC-02, 섹션5 | WebSocket order:new 수신, 카드 추가 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-001: 새 주문 실시간 표시 |
| 매뉴얼 테스트 | 026-test-specification.md | 4.1 | TC-001 |

#### K-002: 알림음

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 3.2 | 새 주문 시 알림음 재생 |
| TSK-04-01 설계 | 010-design.md | UC-03, 섹션6 | playNotificationSound() 함수 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-002: 알림음 재생 확인 |
| 매뉴얼 테스트 | 026-test-specification.md | 4.1 | TC-002 |

#### K-003: 주문 정보

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 3.2 | 테이블 번호, 메뉴명, 수량, 주문 시간 |
| TSK-04-01 설계 | 010-design.md | UC-01, 섹션5 | OrderCard 컴포넌트 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-003: 주문 정보 표시 |
| 매뉴얼 테스트 | 026-test-specification.md | 4.1 | TC-003 |

#### K-010: 조리 시작

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 3.2 | 버튼 클릭 시 "조리중" 상태로 변경 |
| TSK-04-02 설계 | 010-design.md | UC-01, 섹션5 | [조리시작] 버튼, PATCH API |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-004: 조리시작 버튼 동작 |
| 매뉴얼 테스트 | 026-test-specification.md | 4.1 | TC-004 |

#### K-011: 조리 완료

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 3.2 | 버튼 클릭 시 "완료" 상태로 변경 |
| TSK-04-02 설계 | 010-design.md | UC-02, 섹션5 | [조리완료] 버튼, PATCH API |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-005: 조리완료 버튼 동작 |
| 매뉴얼 테스트 | 026-test-specification.md | 4.1 | TC-005 |

#### K-012: 완료 주문 숨김

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 3.2 | 완료된 주문 목록에서 제거 또는 별도 표시 |
| TSK-04-02 설계 | 010-design.md | UC-03, 섹션5 | activeOrders 필터링 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-006: 완료 주문 숨김 |
| 매뉴얼 테스트 | 026-test-specification.md | 4.1 | TC-006 |

---

## 2. 비즈니스 규칙 추적 (BR → 구현 → 검증)

| 규칙 ID | PRD 출처 | 설계 섹션 | 구현 위치 | E2E 테스트 | 검증 방법 | 상태 |
|---------|----------|----------|----------|-----------|----------|------|
| BR-01 | K-001, K-012 | TSK-04-01 섹션8 | page.tsx | E2E-007 | 목록 필터링 확인 | 설계완료 |
| BR-02 | K-002 | TSK-04-01 섹션8 | OrderCard | E2E-002 | 알림음 재생 확인 | 설계완료 |
| BR-03 | K-010 | TSK-04-02 섹션8 | OrderCard | E2E-008 | pending→cooking 전이만 허용 | 설계완료 |
| BR-04 | K-011 | TSK-04-02 섹션8 | OrderCard | E2E-009 | cooking→completed 전이만 허용 | 설계완료 |
| BR-05 | K-012 | TSK-04-02 섹션8 | page.tsx | E2E-006 | completed 주문 자동 숨김 | 설계완료 |

### 2.1 비즈니스 규칙별 상세 매핑

#### BR-01: 표시 대상 주문 필터링

| 구분 | 내용 |
|------|------|
| **PRD 원문** | 대기/조리중 주문 목록 (K-001), 완료된 주문 목록에서 제거 (K-012) |
| **설계 표현** | pending/cooking 상태 주문만 메인 그리드에 표시 |
| **구현 위치** | app/kitchen/page.tsx - activeOrders 필터 |
| **검증 방법** | 목록에 completed 상태 주문 미포함 확인 |
| **관련 테스트** | E2E-007 |

#### BR-02: 새 주문 알림음

| 구분 | 내용 |
|------|------|
| **PRD 원문** | 새 주문 시 알림음 재생 (K-002) |
| **설계 표현** | order:new 이벤트 수신 시 playNotificationSound() 호출 |
| **구현 위치** | app/kitchen/page.tsx 또는 OrderCard 컴포넌트 |
| **검증 방법** | 새 주문 수신 시 오디오 재생 확인 |
| **관련 테스트** | E2E-002 |

#### BR-03: pending → cooking 전이 제한

| 구분 | 내용 |
|------|------|
| **PRD 원문** | 조리 시작 버튼으로 "조리중" 상태 변경 (K-010) |
| **설계 표현** | pending 상태에서만 [조리시작] 버튼 표시 |
| **구현 위치** | components/OrderCard.tsx |
| **검증 방법** | cooking/completed 상태에서 조리시작 불가 확인 |
| **관련 테스트** | E2E-008 |

#### BR-04: cooking → completed 전이 제한

| 구분 | 내용 |
|------|------|
| **PRD 원문** | 조리 완료 버튼으로 "완료" 상태 변경 (K-011) |
| **설계 표현** | cooking 상태에서만 [조리완료] 버튼 표시 |
| **구현 위치** | components/OrderCard.tsx |
| **검증 방법** | pending 상태에서 조리완료 불가 확인 |
| **관련 테스트** | E2E-009 |

---

## 3. 테스트 역추적 매트릭스

> 테스트 결과 → 요구사항 역추적용

| 테스트 ID | 테스트 유형 | 검증 대상 요구사항 | 검증 대상 비즈니스 규칙 | 상태 |
|-----------|------------|-------------------|----------------------|------|
| E2E-001 | E2E | K-001 | - | 미실행 |
| E2E-002 | E2E | K-002 | BR-02 | 미실행 |
| E2E-003 | E2E | K-003 | - | 미실행 |
| E2E-004 | E2E | K-010 | - | 미실행 |
| E2E-005 | E2E | K-011 | - | 미실행 |
| E2E-006 | E2E | K-012 | BR-05 | 미실행 |
| E2E-007 | E2E | K-001, K-012 | BR-01 | 미실행 |
| E2E-008 | E2E | K-010 | BR-03 | 미실행 |
| E2E-009 | E2E | K-011 | BR-04 | 미실행 |
| TC-001 | 매뉴얼 | K-001 | - | 미실행 |
| TC-002 | 매뉴얼 | K-002 | BR-02 | 미실행 |
| TC-003 | 매뉴얼 | K-003 | - | 미실행 |
| TC-004 | 매뉴얼 | K-010 | BR-03 | 미실행 |
| TC-005 | 매뉴얼 | K-011 | BR-04 | 미실행 |
| TC-006 | 매뉴얼 | K-012 | BR-05 | 미실행 |

---

## 4. 화면 추적

> 기본설계 화면 요구사항 → 상세설계 컴포넌트 매핑

| 기본설계 화면 | 상세설계 화면 | 컴포넌트 | 요구사항 |
|--------------|--------------|----------|----------|
| 주방 주문 현황 | /kitchen | KitchenPage | K-001, K-002, K-003 |
| 주문 카드 (pending) | OrderCard | OrderCard | K-003, K-010 |
| 주문 카드 (cooking) | OrderCard | OrderCard | K-003, K-011 |

---

## 5. 인터페이스 추적

> 기본설계 인터페이스 요구사항 → API 엔드포인트 매핑

| 기본설계 인터페이스 | 상세설계 API | Method | Endpoint | 요구사항 |
|--------------------|-------------|--------|----------|----------|
| 주문 목록 조회 | GET kitchen/orders | GET | /api/kitchen/orders | K-001, K-003 |
| 주문 상태 변경 | PATCH orders/status | PATCH | /api/orders/{id}/status | K-010, K-011 |
| 새 주문 이벤트 | WebSocket order:new | WS | order:new | K-001, K-002 |
| 상태 변경 이벤트 | WebSocket order:status | WS | order:status | K-010, K-011 |

---

## 6. 추적성 검증 요약

### 6.1 커버리지 통계

| 구분 | 총 항목 | 매핑 완료 | 미매핑 | 커버리지 |
|------|---------|----------|--------|---------|
| 기능 요구사항 (K) | 6 | 6 | 0 | 100% |
| 비즈니스 규칙 (BR) | 5 | 5 | 0 | 100% |
| E2E 테스트 | 9 | 9 | 0 | 100% |
| 매뉴얼 테스트 (TC) | 6 | 6 | 0 | 100% |

### 6.2 미매핑 항목 (있는 경우)

| 구분 | ID | 설명 | 미매핑 사유 |
|------|-----|------|-----------|
| - | - | - | - |

---

## 관련 문서

- 설계 문서: `010-design.md`
- 테스트 명세: `026-test-specification.md`
- TSK-04-01 설계: `../TSK-04-01/010-design.md`
- TSK-04-02 설계: `../TSK-04-02/010-design.md`
- PRD: `.orchay/projects/table-order/prd.md`

---

<!--
author: Claude
Version History:
- v1.0 (2026-01-02): 최초 작성
-->
