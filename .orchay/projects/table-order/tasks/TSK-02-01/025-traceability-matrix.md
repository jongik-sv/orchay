# TSK-02-01 - 요구사항 추적 매트릭스

## 문서 정보

| 항목 | 내용 |
|------|------|
| Task ID | TSK-02-01 |
| 문서 버전 | 1.0 |
| 작성일 | 2026-01-02 |
| 상태 | 작성중 |

---

## 1. PRD 요구사항 → 설계 요소 매핑

### 1.1 핵심 기능 요구사항

| PRD ID | PRD 요구사항 | 설계 요소 | 테스트 ID | 비고 |
|--------|-------------|----------|-----------|------|
| K-001 | 실시간 주문 표시 | Socket.io 서버 초기화, kitchen 룸 | TC-03 | 서버 인프라 |
| K-002 | 새 주문 알림음 | (TSK-02-02 범위) | - | 현 Task 범위 외 |
| C-031 | 실시간 상태 반영 | Socket.io 서버 초기화, table 룸 | TC-02 | 서버 인프라 |

### 1.2 WebSocket 이벤트 요구사항

| PRD 이벤트 | 설계 요소 | UC ID | 테스트 ID |
|-----------|----------|-------|-----------|
| `order:new` | (TSK-02-02 범위) | - | - |
| `order:status` | (TSK-02-02 범위) | - | - |
| `join:table` | UC-01, server.ts 이벤트 핸들러 | TC-02 | 현 Task 범위 |
| `join:kitchen` | UC-02, server.ts 이벤트 핸들러 | TC-03 | 현 Task 범위 |

---

## 2. TRD 기술 요구사항 → 설계 요소 매핑

| TRD 요구사항 | 설계 요소 | 검증 방법 |
|-------------|----------|----------|
| Socket.io 4.x | `socket.io` 패키지 사용 | package.json 확인 |
| Custom Server | `server.ts` 파일 구현 | 서버 시작 확인 |
| tsx 런타임 | `tsx watch src/server.ts` | dev 스크립트 확인 |
| CORS 설정 | `Server` 생성자 옵션 | 코드 리뷰 |

---

## 3. 유즈케이스 → 테스트 케이스 매핑

| UC ID | 유즈케이스 | TC ID | 테스트 케이스 |
|-------|----------|-------|-------------|
| UC-01 | 고객 룸 조인 | TC-02 | table 룸 조인 검증 |
| UC-02 | 주방 룸 조인 | TC-03 | kitchen 룸 조인 검증 |
| UC-03 | 연결 해제 처리 | TC-04 | disconnect 로그 검증 |
| - | 서버 시작 | TC-01 | Custom Server 시작 검증 |

---

## 4. 추적 매트릭스 요약

```
PRD 요구사항 → 설계 요소 → 테스트 케이스

K-001, C-031 ──→ Socket.io 서버 ──→ TC-01 (서버 시작)
    │                │
    ↓                ↓
join:table ────→ UC-01, 이벤트 핸들러 ──→ TC-02 (table 룸 조인)
    │
join:kitchen ──→ UC-02, 이벤트 핸들러 ──→ TC-03 (kitchen 룸 조인)
    │
disconnect ────→ UC-03, 이벤트 핸들러 ──→ TC-04 (연결 해제)
```

---

## 5. 커버리지 분석

### 5.1 현재 Task 커버리지

| 구분 | 총 항목 | 커버됨 | 커버리지 |
|------|--------|--------|----------|
| PRD 실시간 요구사항 | 3 | 2 | 67% |
| WebSocket 이벤트 | 4 | 2 | 50% |
| TRD 기술 요구사항 | 4 | 4 | 100% |
| 유즈케이스 | 3 | 3 | 100% |

### 5.2 범위 외 항목 (TSK-02-02로 이관)

- K-002: 알림음 재생
- `order:new` 이벤트
- `order:status` 이벤트
- 클라이언트 Socket.io 유틸리티

---

## 변경 이력

| 버전 | 일자 | 작성자 | 변경 내용 |
|------|------|--------|----------|
| 1.0 | 2026-01-02 | Claude | 최초 작성 (리뷰 반영) |
