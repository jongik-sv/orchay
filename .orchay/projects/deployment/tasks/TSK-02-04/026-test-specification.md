# TSK-02-04: 테스트 명세

> **Task**: 로컬 빌드 테스트 (Linux)
> **Version**: 1.0
> **Date**: 2025-12-30

---

## 1. 테스트 개요

| 항목 | 내용 |
|------|------|
| 테스트 유형 | 수동 통합 테스트 |
| 테스트 환경 | Linux (Ubuntu 20.04+) |
| 선행조건 | TSK-02-01, TSK-02-02, TSK-02-03 완료 |

---

## 2. 테스트 케이스

### TC-01: PyInstaller 빌드 실행

| 항목 | 내용 |
|------|------|
| **ID** | TC-01 |
| **목적** | PyInstaller로 orchay 빌드 성공 여부 확인 |
| **사전조건** | Python 3.10+, PyInstaller 설치, spec 파일 존재 |
| **테스트 단계** | 1. `cd orchay`<br>2. `pip install -e .`<br>3. `pip install pyinstaller`<br>4. `pyinstaller orchay.spec` |
| **예상 결과** | - 빌드 완료 메시지 출력<br>- `dist/orchay` 파일 생성<br>- ERROR 없음 |
| **검증 방법** | `ls -la dist/orchay` |
| **합격 기준** | 실행 파일 크기 20-40MB |

---

### TC-02: 도움말 및 버전 출력

| 항목 | 내용 |
|------|------|
| **ID** | TC-02 |
| **목적** | CLI 기본 옵션 동작 확인 |
| **사전조건** | TC-01 완료 |
| **테스트 단계** | 1. `./dist/orchay --help`<br>2. `./dist/orchay --version` |
| **예상 결과** | - 도움말 텍스트 출력<br>- 버전 정보 출력<br>- ModuleNotFoundError 없음 |
| **검증 방법** | 출력 내용 확인 |
| **합격 기준** | 오류 없이 정보 출력 |

---

### TC-03: WezTerm 레이아웃 생성

| 항목 | 내용 |
|------|------|
| **ID** | TC-03 |
| **목적** | WezTerm 레이아웃 자동 생성 확인 |
| **사전조건** | TC-01 완료, WezTerm 설치 및 PATH 등록 |
| **테스트 단계** | 1. 기존 WezTerm 종료<br>2. `./dist/orchay` 실행<br>3. 레이아웃 확인 |
| **예상 결과** | - WezTerm 창 생성<br>- 스케줄러 pane 존재<br>- Worker pane 존재 |
| **검증 방법** | 육안 확인 |
| **합격 기준** | 레이아웃 정상 생성, 스케줄러 명령 실행됨 |

---

### TC-04: Dry-run 모드 테스트

| 항목 | 내용 |
|------|------|
| **ID** | TC-04 |
| **목적** | 스케줄러 dry-run 모드 동작 확인 |
| **사전조건** | TC-01 완료, `.orchay` 프로젝트 디렉토리 존재 |
| **테스트 단계** | 1. 프로젝트 루트로 이동<br>2. `./orchay/dist/orchay --dry-run` 실행 |
| **예상 결과** | - Task 목록 출력<br>- 실제 dispatch 없음<br>- 상태 정보 표시 |
| **검증 방법** | 출력 내용 확인 |
| **합격 기준** | 오류 없이 Task 정보 출력 |

---

## 3. 에러 케이스 테스트

### TC-E01: Hidden Import 누락 확인

| 항목 | 내용 |
|------|------|
| **ID** | TC-E01 |
| **목적** | ModuleNotFoundError 발생 시 대응 확인 |
| **테스트 단계** | TC-02 실행 중 오류 발생 시 |
| **예상 결과** | 누락 모듈명 확인 가능 |
| **조치** | spec 파일 hiddenimports에 추가 후 재빌드 |

---

### TC-E02: 리소스 로드 실패 확인

| 항목 | 내용 |
|------|------|
| **ID** | TC-E02 |
| **목적** | FileNotFoundError 발생 시 대응 확인 |
| **테스트 단계** | 실행 중 리소스 관련 오류 발생 시 |
| **예상 결과** | 누락 파일 경로 확인 가능 |
| **조치** | spec 파일 datas에 추가 후 재빌드 |

---

## 4. 테스트 결과 기록 템플릿

| TC ID | 실행일 | 결과 | 비고 |
|-------|-------|------|------|
| TC-01 | | PASS/FAIL | |
| TC-02 | | PASS/FAIL | |
| TC-03 | | PASS/FAIL | |
| TC-04 | | PASS/FAIL | |

---

## 5. 수용 기준 요약

| 기준 | 검증 방법 |
|------|----------|
| 빌드 성공 | TC-01 PASS |
| CLI 동작 | TC-02 PASS |
| 레이아웃 생성 | TC-03 PASS |
| 스케줄러 동작 | TC-04 PASS |

**전체 수용**: 모든 TC PASS
