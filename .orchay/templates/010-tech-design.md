# {Task ID} - {Task Title} 기술 설계 문서

**Template Version:** 1.0.0 — **Last Updated:** 2026-01-20

> **설계 규칙**
> * Infrastructure 카테고리 전용 (인프라, 설정, 환경 구성)
> * As-Is → To-Be 전환 관점 설계
> * 롤백 계획 필수 포함
> * 검증 및 모니터링 방안 명시

---

## 0. 문서 메타데이터

| 항목 | 내용 |
|------|------|
| Task ID | {TSK-XX-XX} |
| Task명 | {Task Title} |
| Category | infrastructure |
| 상태 | [dd] 상세설계 |
| 작성일 | {YYYY-MM-DD} |
| 작성자 | {작성자} |

### 상위 문서 참조

| 문서 유형 | 경로 | 참조 섹션 |
|----------|------|----------|
| PRD | `.orchay/projects/{project}/prd.md` | 섹션 {번호} |
| TRD | `.orchay/projects/{project}/trd.md` | 섹션 {번호} |

---

## 1. 개요

### 1.1 배경

{이 인프라 작업이 필요하게 된 배경 설명}

- 현재 시스템/환경 상태
- 문제점 또는 개선 필요성
- 비즈니스/기술적 요구사항

### 1.2 목적

{이 Task가 달성하려는 목표}

- 주요 목적 1
- 주요 목적 2

### 1.3 범위

**포함 범위:**
- {구현할 항목 1}
- {구현할 항목 2}

**제외 범위:**
- {이번에 다루지 않는 항목} → {관련 Task ID}

### 1.4 참조 문서

| 문서 | 경로 | 관련 섹션 |
|------|------|----------|
| PRD | `.orchay/projects/{project}/prd.md` | {관련 섹션} |
| TRD | `.orchay/projects/{project}/trd.md` | {관련 섹션} |
| 외부 문서 | {URL 또는 경로} | {설명} |

---

## 2. 현재 상태 (As-Is)

### 2.1 현재 아키텍처

{현재 시스템/환경의 구조 설명}

```
{현재 구조 다이어그램 또는 텍스트 표현}
```

### 2.2 현재 구성 요소

| 구성 요소 | 버전/상태 | 역할 | 비고 |
|----------|----------|------|------|
| {요소 1} | {버전} | {역할} | {비고} |
| {요소 2} | {버전} | {역할} | {비고} |

### 2.3 문제점 분석

| 문제점 | 영향 | 심각도 |
|--------|------|--------|
| {문제 1} | {어떤 영향을 주는지} | High/Medium/Low |
| {문제 2} | {어떤 영향을 주는지} | High/Medium/Low |

### 2.4 현재 설정/환경

```
{현재 설정 파일 또는 환경 변수 예시}
```

---

## 3. 목표 상태 (To-Be)

### 3.1 목표 아키텍처

{변경 후 시스템/환경의 구조 설명}

```
{목표 구조 다이어그램 또는 텍스트 표현}
```

### 3.2 목표 구성 요소

| 구성 요소 | 버전/상태 | 역할 | 변경 사항 |
|----------|----------|------|----------|
| {요소 1} | {버전} | {역할} | {신규/변경/유지} |
| {요소 2} | {버전} | {역할} | {신규/변경/유지} |

### 3.3 기대 효과

| 개선 항목 | 현재 | 목표 | 개선율 |
|----------|------|------|--------|
| {항목 1} | {현재 수치} | {목표 수치} | {개선율} |
| {항목 2} | {현재 상태} | {목표 상태} | - |

### 3.4 목표 설정/환경

```
{목표 설정 파일 또는 환경 변수 예시}
```

---

## 4. 구현 계획

### 4.1 구현 단계

| 단계 | 작업 | 설명 | 예상 소요 | 담당 |
|------|------|------|----------|------|
| 1 | {작업 1} | {상세 설명} | {시간} | {담당자} |
| 2 | {작업 2} | {상세 설명} | {시간} | {담당자} |
| 3 | {작업 3} | {상세 설명} | {시간} | {담당자} |

### 4.2 기술 스택

| 구성 요소 | 기술 | 버전 | 선정 근거 |
|----------|------|------|----------|
| {요소 1} | {기술명} | {버전} | {선정 이유} |
| {요소 2} | {기술명} | {버전} | {선정 이유} |

### 4.3 디렉토리/파일 구조

```
{프로젝트}/
├── {디렉토리 1}/
│   └── {파일 1}          # {설명}
├── {디렉토리 2}/
│   └── {파일 2}          # {설명}
└── {파일 3}              # {설명}
```

### 4.4 설정 변경 사항

**변경 파일 목록:**

| 파일 | 변경 유형 | 변경 내용 |
|------|----------|----------|
| {파일 1} | 신규/수정 | {변경 내용} |
| {파일 2} | 신규/수정 | {변경 내용} |

**상세 설정:**

```
{설정 코드 또는 환경 변수}
```

### 4.5 롤백 계획

> ⚠️ **필수**: 문제 발생 시 이전 상태로 복구하는 절차

**롤백 트리거 조건:**
- {조건 1}: {상황 설명}
- {조건 2}: {상황 설명}

**롤백 절차:**

| 단계 | 작업 | 명령어/절차 | 확인 사항 |
|------|------|------------|----------|
| 1 | {작업 1} | `{명령어}` | {확인 방법} |
| 2 | {작업 2} | `{명령어}` | {확인 방법} |
| 3 | {작업 3} | `{명령어}` | {확인 방법} |

**롤백 후 검증:**
- [ ] {검증 항목 1}
- [ ] {검증 항목 2}

---

## 5. 리스크 분석

### 5.1 위험 요소

| 리스크 ID | 위험 요소 | 발생 가능성 | 영향도 | 심각도 |
|-----------|----------|------------|--------|--------|
| RSK-01 | {위험 요소 1} | High/Medium/Low | High/Medium/Low | {점수} |
| RSK-02 | {위험 요소 2} | High/Medium/Low | High/Medium/Low | {점수} |

### 5.2 대응 방안

| 리스크 ID | 대응 전략 | 구체적 방안 | 담당 |
|-----------|----------|------------|------|
| RSK-01 | 회피/완화/전가/수용 | {구체적 방안} | {담당자} |
| RSK-02 | 회피/완화/전가/수용 | {구체적 방안} | {담당자} |

### 5.3 의존성

| 의존 대상 | 유형 | 설명 | 상태 |
|----------|------|------|------|
| {Task ID} | 선행 | {왜 의존하는지} | 완료/진행중/대기 |
| {외부 서비스} | 외부 | {의존 내용} | 가용/불가 |

### 5.4 제약 사항

| 제약 | 설명 | 영향 | 대응 방안 |
|------|------|------|----------|
| {제약 1} | {상세 설명} | {영향 범위} | {대응 방안} |
| {제약 2} | {상세 설명} | {영향 범위} | {대응 방안} |

---

## 6. 검증 계획

### 6.1 테스트 방법

| 테스트 유형 | 테스트 항목 | 방법 | 기대 결과 |
|------------|-----------|------|----------|
| 설치 검증 | {항목 1} | `{명령어}` | {기대 결과} |
| 기능 검증 | {항목 2} | {방법} | {기대 결과} |
| 통합 검증 | {항목 3} | {방법} | {기대 결과} |

### 6.2 수용 기준 (Acceptance Criteria)

| 항목 | 검증 방법 | 기대 결과 | 필수 여부 |
|------|----------|----------|----------|
| {항목 1} | `{명령어}` | {기대 출력} | 필수 |
| {항목 2} | {방법} | {기대 결과} | 필수 |
| {항목 3} | {방법} | {기대 결과} | 선택 |

### 6.3 모니터링

| 모니터링 항목 | 수집 방법 | 임계값 | 알림 조건 |
|--------------|----------|--------|----------|
| {항목 1} | {방법/도구} | {임계값} | {조건} |
| {항목 2} | {방법/도구} | {임계값} | {조건} |

### 6.4 체크리스트

**구현 완료 확인:**
- [ ] {확인 항목 1}
- [ ] {확인 항목 2}
- [ ] {확인 항목 3}

**검증 완료 확인:**
- [ ] 설치/설정 검증 완료
- [ ] 기능 검증 완료
- [ ] 통합 검증 완료
- [ ] 롤백 테스트 완료 (선택)

---

## 7. 후속 작업

### 7.1 이 Task 완료 후 영향받는 Task

| Task ID | 영향 | 필요 사항 |
|---------|------|----------|
| {Task ID} | {영향 설명} | {필요한 것} |

### 7.2 다음 단계

- `/wf:build` 명령어로 구현 진행

---

## 변경 이력

| 버전 | 일자 | 작성자 | 변경 내용 |
|------|------|--------|----------|
| 1.0 | {YYYY-MM-DD} | {작성자} | 최초 작성 |

---

<!--
author: AI Agent
Template Version: 1.0.0
Category: infrastructure
-->
